(self["webpackChunkhmtt"]=self["webpackChunkhmtt"]||[]).push([[288],{6775:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return h}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"search-header",staticStyle:{height:"46px"}},[n("van-icon",{staticClass:"goback",staticStyle:{"padding-left":"14px"},attrs:{name:"arrow-left",color:"white",size:"18px"},on:{click:function(e){return t.$router.go(-1)}}}),n("van-search",{directives:[{name:"fofo",rawName:"v-fofo"}],attrs:{placeholder:"请输入关键词",background:"#007bff",shape:"round"},on:{input:t.inputFn,search:t.searchFn},model:{value:t.kw,callback:function(e){t.kw=e},expression:"kw"}})],1),n("div",{staticClass:"sugg-list"},t._l(t.keywordList,(function(e,r){return 0!==t.kw.length?n("div",{key:r,staticClass:"sugg-item",domProps:{innerHTML:t._s(t.lightFn(e,t.kw))},on:{click:function(n){return t.suggestClick(e)}}}):t._e()})),0),n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.kw.length,expression:"kw.length===0"}],staticClass:"search-history"},[n("van-cell",{attrs:{title:"搜索历史"},scopedSlots:t._u([{key:"right-icon",fn:function(){return[n("van-icon",{staticClass:"search-icon",attrs:{name:"delete"},on:{click:t.clearFn}})]},proxy:!0}])}),n("div",{staticClass:"history-list"},t._l(t.history,(function(e,r){return n("span",{staticClass:"history-item",on:{click:function(n){return t.historyClick(e)}}},[t._v(t._s(e))])})),0)],1)])},i=[],o=n(7673),s=n(6198),a=(n(4603),n(8450),n(4916),n(8386),n(9714),n(5306),n(8757),n(1539),n(189),n(8783),n(3948),n(1038),n(8862),n(693)),u=(n(6665),{data:function(){return{kw:"",timer:null,keywordList:[],history:JSON.parse(localStorage.getItem("his"))||[]}},methods:{inputFn:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout((0,s.Z)((0,o.Z)().mark((function e(){var n,r;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.kw.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,a.Bq)({keyword:t.kw});case 4:n=e.sent,r=n.data,t.keywordList=r.data.options;case 7:case"end":return e.stop()}}),e)}))),300)},lightFn:function(t,e){var n=new RegExp(e,"ig");return t.replaceAll(n,(function(t){return'<span style="color:red;">'.concat(t,"</span>")}))},searchFn:function(){var t=this;0!==this.kw.length&&(this.history.push(this.kw),setTimeout((function(){t.$router.push({path:"/search_result/".concat(t.kw)})}),0))},suggestClick:function(t){var e=this;this.history.push(t),setTimeout((function(){e.$router.push({path:"/search_result/".concat(t)})}),0)},historyClick:function(t){this.$router.push({path:"/search_result/".concat(t)})},clearFn:function(){this.history=[]}},watch:{history:{deep:!0,handler:function(){var t=new Set(this.history),e=Array.from(t);localStorage.setItem("his",JSON.stringify(e))}}}}),c=u,f=n(1001),l=(0,f.Z)(c,r,i,!1,null,"4f198c6a",null),h=l.exports},1291:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return v}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"search-result-container"},[n("van-nav-bar",{staticStyle:{"background-color":"#007bff"},attrs:{title:"搜索结果","left-arrow":"",fixed:""},on:{"click-left":function(e){return t.$router.go(-1)}}})],1),n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1,offset:"10"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.resultList,(function(e){return n("ArticleItem",{key:e.art_id,attrs:{article:e,isShow:!1},nativeOn:{click:function(n){return t.$router.push("/detail?art_id="+e.art_id)}}})})),1)],1)},i=[],o=n(2220),s=n(7673),a=n(6198),u=(n(2222),n(693)),c=n(791),f={data:function(){return{page:1,resultList:[],loading:!1,finished:!1}},components:{ArticleItem:c.Z},created:function(){var t=this;return(0,a.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,u.G_)({page:t.page,q:t.$route.params.kw});case 2:n=e.sent,t.resultList=n.data.data.results;case 4:case"end":return e.stop()}}),e)})))()},methods:{onLoad:function(){var t=this;this.page++,setTimeout((0,a.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,u.G_)({page:t.page,q:t.$route.params.kw});case 2:n=e.sent,t.resultList=[].concat((0,o.Z)(t.resultList),(0,o.Z)(n.data.data.results)),t.loading=!1,0===n.data.data.results.length&&(t.finished=!0);case 6:case"end":return e.stop()}}),e)}))),500)}}},l=f,h=n(1001),d=(0,h.Z)(l,r,i,!1,null,"45d63478",null),v=d.exports},7556:function(t,e,n){var r=n(7293);t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},5631:function(t,e,n){"use strict";var r=n(3070).f,i=n(30),o=n(9190),s=n(9974),a=n(5787),u=n(408),c=n(654),f=n(6340),l=n(9781),h=n(2423).fastKey,d=n(9909),v=d.set,p=d.getterFor;t.exports={getConstructor:function(t,e,n,c){var f=t((function(t,r){a(t,d),v(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),l||(t.size=0),void 0!=r&&u(r,t[c],{that:t,AS_ENTRIES:n})})),d=f.prototype,g=p(e),x=function(t,e,n){var r,i,o=g(t),s=y(t,e);return s?s.value=n:(o.last=s={index:i=h(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=s),r&&(r.next=s),l?o.size++:t.size++,"F"!==i&&(o.index[i]=s)),t},y=function(t,e){var n,r=g(t),i=h(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return o(d,{clear:function(){var t=this,e=g(t),n=e.index,r=e.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;e.first=e.last=void 0,l?e.size=0:t.size=0},delete:function(t){var e=this,n=g(e),r=y(e,t);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),l?n.size--:e.size--}return!!r},forEach:function(t){var e,n=g(this),r=s(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:n.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!y(this,t)}}),o(d,n?{get:function(t){var e=y(this,t);return e&&e.value},set:function(t,e){return x(this,0===t?0:t,e)}}:{add:function(t){return x(this,t=0===t?0:t,t)}}),l&&r(d,"size",{get:function(){return g(this).size}}),f},setStrong:function(t,e,n){var r=e+" Iterator",i=p(e),o=p(r);c(t,e,(function(t,e){v(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){var t=o(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),f(e)}}},7710:function(t,e,n){"use strict";var r=n(2109),i=n(7854),o=n(1702),s=n(4705),a=n(8052),u=n(2423),c=n(408),f=n(5787),l=n(614),h=n(111),d=n(7293),v=n(7072),p=n(8003),g=n(9587);t.exports=function(t,e,n){var x=-1!==t.indexOf("Map"),y=-1!==t.indexOf("Weak"),w=x?"set":"add",k=i[t],m=k&&k.prototype,b=k,E={},S=function(t){var e=o(m[t]);a(m,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(y&&!h(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return y&&!h(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!h(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})},_=s(t,!l(k)||!(y||m.forEach&&!d((function(){(new k).entries().next()}))));if(_)b=n.getConstructor(e,t,x,w),u.enable();else if(s(t,!0)){var R=new b,C=R[w](y?{}:-0,1)!=R,O=d((function(){R.has(1)})),A=v((function(t){new k(t)})),I=!y&&d((function(){var t=new k,e=5;while(e--)t[w](e,e);return!t.has(-0)}));A||(b=e((function(t,e){f(t,m);var n=g(new k,t,b);return void 0!=e&&c(e,n[w],{that:n,AS_ENTRIES:x}),n})),b.prototype=m,m.constructor=b),(O||I)&&(S("delete"),S("has"),x&&S("get")),(I||C)&&S(w),y&&m.clear&&delete m.clear}return E[t]=b,r({global:!0,constructor:!0,forced:b!=k},E),p(b,t),y||n.setStrong(b,t,x),b}},7045:function(t,e,n){var r=n(6339),i=n(3070);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),i.f(t,e,n)}},9190:function(t,e,n){var r=n(8052);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},6677:function(t,e,n){var r=n(7293);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},2423:function(t,e,n){var r=n(2109),i=n(1702),o=n(3501),s=n(111),a=n(2597),u=n(3070).f,c=n(8006),f=n(1156),l=n(2050),h=n(9711),d=n(6677),v=!1,p=h("meta"),g=0,x=function(t){u(t,p,{value:{objectID:"O"+g++,weakData:{}}})},y=function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,p)){if(!l(t))return"F";if(!e)return"E";x(t)}return t[p].objectID},w=function(t,e){if(!a(t,p)){if(!l(t))return!0;if(!e)return!1;x(t)}return t[p].weakData},k=function(t){return d&&v&&l(t)&&!a(t,p)&&x(t),t},m=function(){b.enable=function(){},v=!0;var t=c.f,e=i([].splice),n={};n[p]=1,t(n).length&&(c.f=function(n){for(var r=t(n),i=0,o=r.length;i<o;i++)if(r[i]===p){e(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:f.f}))},b=t.exports={enable:m,fastKey:y,getWeakData:w,onFreeze:k};o[p]=!0},7850:function(t,e,n){var r=n(111),i=n(4326),o=n(5112),s=o("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==i(t))}},2050:function(t,e,n){var r=n(7293),i=n(111),o=n(4326),s=n(7556),a=Object.isExtensible,u=r((function(){a(1)}));t.exports=u||s?function(t){return!!i(t)&&((!s||"ArrayBuffer"!=o(t))&&(!a||a(t)))}:a},4706:function(t,e,n){var r=n(6916),i=n(2597),o=n(7976),s=n(7066),a=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in a||i(t,"flags")||!o(a,t)?e:r(s,t)}},4603:function(t,e,n){var r=n(9781),i=n(7854),o=n(1702),s=n(4705),a=n(9587),u=n(8880),c=n(8006).f,f=n(7976),l=n(7850),h=n(1340),d=n(4706),v=n(2999),p=n(2626),g=n(8052),x=n(7293),y=n(2597),w=n(9909).enforce,k=n(6340),m=n(5112),b=n(9441),E=n(7168),S=m("match"),_=i.RegExp,R=_.prototype,C=i.SyntaxError,O=o(R.exec),A=o("".charAt),I=o("".replace),T=o("".indexOf),Z=o("".slice),F=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,z=/a/g,L=/a/g,$=new _(z)!==z,j=v.MISSED_STICKY,D=v.UNSUPPORTED_Y,N=r&&(!$||j||b||E||x((function(){return L[S]=!1,_(z)!=z||_(L)==L||"/a/i"!=_(z,"i")}))),P=function(t){for(var e,n=t.length,r=0,i="",o=!1;r<=n;r++)e=A(t,r),"\\"!==e?o||"."!==e?("["===e?o=!0:"]"===e&&(o=!1),i+=e):i+="[\\s\\S]":i+=e+A(t,++r);return i},q=function(t){for(var e,n=t.length,r=0,i="",o=[],s={},a=!1,u=!1,c=0,f="";r<=n;r++){if(e=A(t,r),"\\"===e)e+=A(t,++r);else if("]"===e)a=!1;else if(!a)switch(!0){case"["===e:a=!0;break;case"("===e:O(F,Z(t,r+1))&&(r+=2,u=!0),i+=e,c++;continue;case">"===e&&u:if(""===f||y(s,f))throw new C("Invalid capture group name");s[f]=!0,o[o.length]=[f,c],u=!1,f="";continue}u?f+=e:i+=e}return[i,o]};if(s("RegExp",N)){for(var M=function(t,e){var n,r,i,o,s,c,v=f(R,this),p=l(t),g=void 0===e,x=[],y=t;if(!v&&p&&g&&t.constructor===M)return t;if((p||f(R,t))&&(t=t.source,g&&(e=d(y))),t=void 0===t?"":h(t),e=void 0===e?"":h(e),y=t,b&&"dotAll"in z&&(r=!!e&&T(e,"s")>-1,r&&(e=I(e,/s/g,""))),n=e,j&&"sticky"in z&&(i=!!e&&T(e,"y")>-1,i&&D&&(e=I(e,/y/g,""))),E&&(o=q(t),t=o[0],x=o[1]),s=a(_(t,e),v?this:R,M),(r||i||x.length)&&(c=w(s),r&&(c.dotAll=!0,c.raw=M(P(t),n)),i&&(c.sticky=!0),x.length&&(c.groups=x)),t!==y)try{u(s,"source",""===y?"(?:)":y)}catch(k){}return s},B=c(_),K=0;B.length>K;)p(M,_,B[K++]);R.constructor=M,M.prototype=R,g(i,"RegExp",M,{constructor:!0})}k("RegExp")},8450:function(t,e,n){var r=n(9781),i=n(9441),o=n(4326),s=n(7045),a=n(9909).get,u=RegExp.prototype,c=TypeError;r&&i&&s(u,"dotAll",{configurable:!0,get:function(){if(this!==u){if("RegExp"===o(this))return!!a(this).dotAll;throw c("Incompatible receiver, RegExp required")}}})},8386:function(t,e,n){var r=n(9781),i=n(2999).MISSED_STICKY,o=n(4326),s=n(7045),a=n(9909).get,u=RegExp.prototype,c=TypeError;r&&i&&s(u,"sticky",{configurable:!0,get:function(){if(this!==u){if("RegExp"===o(this))return!!a(this).sticky;throw c("Incompatible receiver, RegExp required")}}})},9714:function(t,e,n){"use strict";var r=n(6530).PROPER,i=n(8052),o=n(9670),s=n(1340),a=n(7293),u=n(4706),c="toString",f=RegExp.prototype,l=f[c],h=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=r&&l.name!=c;(h||d)&&i(RegExp.prototype,c,(function(){var t=o(this),e=s(t.source),n=s(u(t));return"/"+e+"/"+n}),{unsafe:!0})},7227:function(t,e,n){"use strict";var r=n(7710),i=n(5631);r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},189:function(t,e,n){n(7227)},8757:function(t,e,n){"use strict";var r=n(2109),i=n(6916),o=n(1702),s=n(4488),a=n(614),u=n(7850),c=n(1340),f=n(8173),l=n(4706),h=n(647),d=n(5112),v=n(1913),p=d("replace"),g=TypeError,x=o("".indexOf),y=o("".replace),w=o("".slice),k=Math.max,m=function(t,e,n){return n>t.length?-1:""===e?n:x(t,e,n)};r({target:"String",proto:!0},{replaceAll:function(t,e){var n,r,o,d,b,E,S,_,R,C=s(this),O=0,A=0,I="";if(null!=t){if(n=u(t),n&&(r=c(s(l(t))),!~x(r,"g")))throw g("`.replaceAll` does not allow non-global regexes");if(o=f(t,p),o)return i(o,t,C,e);if(v&&n)return y(c(C),t,e)}d=c(C),b=c(t),E=a(e),E||(e=c(e)),S=b.length,_=k(1,S),O=m(d,b,0);while(-1!==O)R=E?c(e(b,O,d)):h(b,d,O,[],void 0,e),I+=w(d,A,O)+R,A=O+S,O=m(d,b,O+_);return A<d.length&&(I+=w(d,A)),I}})}}]);
//# sourceMappingURL=Search-legacy.bb4ad5cb.js.map