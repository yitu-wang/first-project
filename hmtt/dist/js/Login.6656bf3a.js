"use strict";(self["webpackChunkhmtt"]=self["webpackChunkhmtt"]||[]).push([[438],{5656:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("van-nav-bar",{attrs:{title:"论坛头条—登录"}}),a("van-cell-group",[a("van-field",{attrs:{required:"",clearable:"",label:"手机号",placeholder:"请输入手机号",error:e.flag},model:{value:e.user.mobile,callback:function(t){e.$set(e.user,"mobile",t)},expression:"user.mobile"}}),a("van-field",{attrs:{type:"password",label:"密码",placeholder:"请输入密码",required:""},on:{blur:e.leave},model:{value:e.user.code,callback:function(t){e.$set(e.user,"code",t)},expression:"user.code"}})],1),a("van-button",{staticStyle:{"margin-top":"16px",height:"40px"},attrs:{round:"",type:"primary",loading:e.flag1,disabled:e.flag1},on:{click:e.onSubmit}},[e._v("登录")])],1)},r=[],s=a(693),o=a(7758),i=a(4224),n={name:"login",data(){return{user:{mobile:"13812345678",code:"246810"},flag:!1,flag1:!1}},methods:{leave(){11===this.user.mobile.length&&246810==this.user.code?this.flag=!1:this.flag=!0},async onSubmit(){this.flag1=!0;try{const e=await(0,s.UO)(this.user);if((0,i.o4)(e.data.data.token),localStorage.setItem("refresh_token",e.data.data.refresh_token),void 0===localStorage.getItem("hash"))this.$router.replace("/layout/home");else{let e=localStorage.getItem("hash");e=e.slice(1),this.$router.push(e)}localStorage.removeItem("hash")}catch(e){(0,o.Z)("账号或密码错误")}this.flag1=!1}}},u=n,c=a(1001),h=(0,c.Z)(u,l,r,!1,null,"0b5e1a49",null),d=h.exports}}]);
//# sourceMappingURL=Login.6656bf3a.js.map