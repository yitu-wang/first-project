{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nimport VueImagePreview from './ImagePreview';\nimport { isServer } from '../utils';\nvar instance;\nvar defaultConfig = {\n  loop: true,\n  value: true,\n  images: [],\n  maxZoom: 3,\n  minZoom: 1 / 3,\n  onClose: null,\n  onChange: null,\n  className: '',\n  showIndex: true,\n  closeable: false,\n  closeIcon: 'clear',\n  asyncClose: false,\n  transition: 'van-fade',\n  getContainer: 'body',\n  overlayStyle: null,\n  startPosition: 0,\n  swipeDuration: 300,\n  showIndicators: false,\n  closeOnPopstate: true,\n  closeIconPosition: 'top-right'\n};\n\nvar initInstance = function initInstance() {\n  instance = new (Vue.extend(VueImagePreview))({\n    el: document.createElement('div')\n  });\n  document.body.appendChild(instance.$el);\n  instance.$on('change', function (index) {\n    if (instance.onChange) {\n      instance.onChange(index);\n    }\n  });\n  instance.$on('scale', function (data) {\n    if (instance.onScale) {\n      instance.onScale(data);\n    }\n  });\n};\n\nvar ImagePreview = function ImagePreview(images, startPosition) {\n  if (startPosition === void 0) {\n    startPosition = 0;\n  }\n  /* istanbul ignore if */\n\n\n  if (isServer) {\n    return;\n  }\n\n  if (!instance) {\n    initInstance();\n  }\n\n  var options = Array.isArray(images) ? {\n    images: images,\n    startPosition: startPosition\n  } : images;\n\n  _extends(instance, defaultConfig, options);\n\n  instance.$once('input', function (show) {\n    instance.value = show;\n  });\n  instance.$once('closed', function () {\n    instance.images = [];\n  });\n\n  if (options.onClose) {\n    instance.$off('close');\n    instance.$once('close', options.onClose);\n  }\n\n  return instance;\n};\n\nImagePreview.Component = VueImagePreview;\n\nImagePreview.install = function () {\n  Vue.use(VueImagePreview);\n};\n\nexport default ImagePreview;","map":{"version":3,"names":["_extends","Vue","VueImagePreview","isServer","instance","defaultConfig","loop","value","images","maxZoom","minZoom","onClose","onChange","className","showIndex","closeable","closeIcon","asyncClose","transition","getContainer","overlayStyle","startPosition","swipeDuration","showIndicators","closeOnPopstate","closeIconPosition","initInstance","extend","el","document","createElement","body","appendChild","$el","$on","index","data","onScale","ImagePreview","options","Array","isArray","$once","show","$off","Component","install","use"],"sources":["C:/Users/小王/node_modules/vant/es/image-preview/index.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nimport VueImagePreview from './ImagePreview';\nimport { isServer } from '../utils';\nvar instance;\nvar defaultConfig = {\n  loop: true,\n  value: true,\n  images: [],\n  maxZoom: 3,\n  minZoom: 1 / 3,\n  onClose: null,\n  onChange: null,\n  className: '',\n  showIndex: true,\n  closeable: false,\n  closeIcon: 'clear',\n  asyncClose: false,\n  transition: 'van-fade',\n  getContainer: 'body',\n  overlayStyle: null,\n  startPosition: 0,\n  swipeDuration: 300,\n  showIndicators: false,\n  closeOnPopstate: true,\n  closeIconPosition: 'top-right'\n};\n\nvar initInstance = function initInstance() {\n  instance = new (Vue.extend(VueImagePreview))({\n    el: document.createElement('div')\n  });\n  document.body.appendChild(instance.$el);\n  instance.$on('change', function (index) {\n    if (instance.onChange) {\n      instance.onChange(index);\n    }\n  });\n  instance.$on('scale', function (data) {\n    if (instance.onScale) {\n      instance.onScale(data);\n    }\n  });\n};\n\nvar ImagePreview = function ImagePreview(images, startPosition) {\n  if (startPosition === void 0) {\n    startPosition = 0;\n  }\n\n  /* istanbul ignore if */\n  if (isServer) {\n    return;\n  }\n\n  if (!instance) {\n    initInstance();\n  }\n\n  var options = Array.isArray(images) ? {\n    images: images,\n    startPosition: startPosition\n  } : images;\n\n  _extends(instance, defaultConfig, options);\n\n  instance.$once('input', function (show) {\n    instance.value = show;\n  });\n  instance.$once('closed', function () {\n    instance.images = [];\n  });\n\n  if (options.onClose) {\n    instance.$off('close');\n    instance.$once('close', options.onClose);\n  }\n\n  return instance;\n};\n\nImagePreview.Component = VueImagePreview;\n\nImagePreview.install = function () {\n  Vue.use(VueImagePreview);\n};\n\nexport default ImagePreview;"],"mappings":"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"},"metadata":{},"sourceType":"module"}