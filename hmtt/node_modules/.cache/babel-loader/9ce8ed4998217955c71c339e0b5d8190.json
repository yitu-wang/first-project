{"ast":null,"code":"//存储请求函数模块\n//每个方法负责请求一个方法\nimport request from '@/utils/request.js'; //登录接口\n\nexport const loginAPI = ({\n  mobile,\n  code\n}) => {\n  return request({\n    url: '/v1_0/authorizations',\n    method: 'POST',\n    data: {\n      mobile,\n      code\n    }\n  });\n}; //刷新token\n\nexport const freshTokenAPI = () => {\n  return request({\n    url: '/v1_0/authorizations',\n    method: 'PUT',\n    headers: {\n      Authorization: 'Bearer ' + localStorage.getItem('refresh_token')\n    }\n  });\n}; //获取所以频道\n\nexport const getAllChannelsAPI = () => {\n  return request({\n    url: '/v1_0/channels'\n  });\n}; //获取用户的频道\n\nexport const getUserChannelsAPI = () => {\n  return request({\n    url: '/v1_0/user/channels' // headers: {\n    //   Authorization: `Bearer ${getToken()}`,\n    // },\n\n  });\n}; //获取更新覆盖后的频道\n\nexport const updateChannelsAPI = channels => {\n  request({\n    url: '/v1_0/user/channels',\n    method: 'PUT',\n    data: {\n      channels //用户已选择的频道数组\n\n    }\n  });\n}; //删除用户频道接口\n\nexport const removeChannelsAPI = ({\n  channelID\n}) => {\n  request({\n    url: `/v1_0/user/channels/${channelID}`,\n    method: 'DELETE'\n  });\n}; //获取推荐文章列表\n\nexport const getArticleListAPI = ({\n  channel_id,\n  timestamp\n}) => {\n  return request({\n    url: '/v1_0/articles',\n    // headers: {\n    //   Authorization: `Bearer ${getToken()}`,\n    // },\n    params: {\n      channel_id,\n      timestamp\n    }\n  });\n}; // 反馈不感兴趣\n\nexport const dislikeArticleAPI = artId => request({\n  url: '/v1_0/article/dislikes',\n  method: 'POST',\n  // headers: {\n  //   Authorization: `Bearer ${getToken()}`,\n  // },\n  data: {\n    target: artId\n  }\n}); //文章反馈-反馈垃圾内容\n\nexport const reportArticleAPI = ({\n  artId,\n  type\n}) => request({\n  url: '/v1_0/article/reports',\n  method: 'POST',\n  // headers: {\n  //   Authorization: `Bearer ${getToken()}`,\n  // },\n  data: {\n    target: artId,\n    type: type,\n    remark: ''\n  }\n}); //定义关键词联想的接口\n\nexport const suggestListAPI = ({\n  keyword\n}) => {\n  return request({\n    url: '/v1_0/suggestion',\n    params: {\n      q: keyword\n    }\n  });\n}; //定义搜索结果页面接口\n\nexport const searchResultAPI = ({\n  page = 1,\n  per_page = 10,\n  q\n}) => {\n  return request({\n    url: '/v1_0/search',\n    params: {\n      page,\n      per_page,\n      q\n    }\n  });\n}; //获取新闻详情页\n\nexport const detailAPI = ({\n  artId\n}) => {\n  return request({\n    url: `/v1_0/articles/${artId}`\n  });\n}; //用户关注\n\nexport const userFollowAPI = ({\n  userId\n}) => {\n  return request({\n    url: '/v1_0/user/followings',\n    method: 'POST',\n    data: {\n      target: userId\n    }\n  });\n}; //用户取消关注\n\nexport const removeFollowAPI = ({\n  userId\n}) => {\n  return request({\n    url: `/v1_0/user/followings/${userId}`,\n    method: 'DELETE'\n  });\n}; //用户为文章点赞\n\nexport const likeArticleAPI = ({\n  target\n}) => {\n  return request({\n    url: '/v1_0/article/likings',\n    method: 'POST',\n    data: {\n      target: target\n    }\n  });\n}; //用户取消点赞\n\nexport const unLikeArticleAPI = ({\n  artId\n}) => {\n  return request({\n    url: `/v1_0/article/likings/${artId}`,\n    method: 'DELETE'\n  });\n}; //获取评论数据\n\nexport const commentsAPI = ({\n  id,\n  offset = null\n}) => {\n  return request({\n    url: '/v1_0/comments',\n    params: {\n      type: 'a',\n      source: id,\n      offset\n    }\n  });\n}; //对评论进行点赞\n\nexport const commentsLikeAPI = ({\n  id\n}) => {\n  return request({\n    url: '/v1_0/comment/likings',\n    method: 'POST',\n    data: {\n      target: id\n    }\n  });\n}; //对评论取消点赞\n\nexport const commentsUNLikeAPI = ({\n  id\n}) => {\n  return request({\n    url: `/v1_0/comment/likings/${id}`,\n    method: 'DELETE'\n  });\n}; //对文章或者评论进行评论\n\nexport const addCommentAPI = ({\n  id,\n  content\n}) => {\n  return request({\n    url: '/v1_0/comments',\n    method: 'POST',\n    data: {\n      target: id,\n      //文章id或者评论的id\n      content\n    }\n  });\n}; //获取用户详细信息\n\nexport const getUsertotalAPI = () => {\n  return request({\n    url: '/v1_0/user'\n  });\n}; //获取个人资料接口\n\nexport const getUserAPI = () => {\n  return request({\n    url: '/v1_0/user/profile'\n  });\n}; //获取用户关注列表\n\nexport const getUserLikeAPI = () => {\n  return request({\n    url: '/v1_0/user/followings',\n    params: {\n      page,\n      per_page\n    }\n  });\n}; //编辑用户头像接口\n\nexport const changeImgAPI = fd => {\n  return request({\n    url: '/v1_0/user/photo',\n    method: 'PATCH',\n    data: fd //这里的fd为外面一会传进来的new Fordata（）表单对象\n    //当请求头为formdata格式时，data千万不能加大括号形成json对象的格式\n\n  });\n}; //编辑用户的个人资料\n\nexport const changeUserAPI = ({\n  name,\n  gender,\n  birthday,\n  intro\n}) => {\n  return request({\n    url: '/v1_0/user/profile',\n    method: 'PATCH',\n    data: {\n      name,\n      gender,\n      birthday,\n      intro\n    }\n  });\n};","map":{"version":3,"names":["request","loginAPI","mobile","code","url","method","data","freshTokenAPI","headers","Authorization","localStorage","getItem","getAllChannelsAPI","getUserChannelsAPI","updateChannelsAPI","channels","removeChannelsAPI","channelID","getArticleListAPI","channel_id","timestamp","params","dislikeArticleAPI","artId","target","reportArticleAPI","type","remark","suggestListAPI","keyword","q","searchResultAPI","page","per_page","detailAPI","userFollowAPI","userId","removeFollowAPI","likeArticleAPI","unLikeArticleAPI","commentsAPI","id","offset","source","commentsLikeAPI","commentsUNLikeAPI","addCommentAPI","content","getUsertotalAPI","getUserAPI","getUserLikeAPI","changeImgAPI","fd","changeUserAPI","name","gender","birthday","intro"],"sources":["C:/Users/小王/Desktop/项目阶段/heimamm/hmtt/src/api/index.js"],"sourcesContent":["//存储请求函数模块\r\n//每个方法负责请求一个方法\r\nimport request from '@/utils/request.js'\r\n\r\n//登录接口\r\nexport const loginAPI = ({ mobile, code }) => {\r\n  return request({\r\n    url: '/v1_0/authorizations',\r\n    method: 'POST',\r\n    data: {\r\n      mobile,\r\n      code,\r\n    },\r\n  })\r\n}\r\n//刷新token\r\nexport const freshTokenAPI = () => {\r\n  return request({\r\n    url: '/v1_0/authorizations',\r\n    method: 'PUT',\r\n    headers: {\r\n      Authorization: 'Bearer ' + localStorage.getItem('refresh_token'),\r\n    },\r\n  })\r\n}\r\n//获取所以频道\r\nexport const getAllChannelsAPI = () => {\r\n  return request({\r\n    url: '/v1_0/channels',\r\n  })\r\n}\r\n//获取用户的频道\r\nexport const getUserChannelsAPI = () => {\r\n  return request({\r\n    url: '/v1_0/user/channels',\r\n    // headers: {\r\n    //   Authorization: `Bearer ${getToken()}`,\r\n    // },\r\n  })\r\n}\r\n//获取更新覆盖后的频道\r\nexport const updateChannelsAPI = (channels) => {\r\n  request({\r\n    url: '/v1_0/user/channels',\r\n    method: 'PUT',\r\n    data: {\r\n      channels, //用户已选择的频道数组\r\n    },\r\n  })\r\n}\r\n//删除用户频道接口\r\nexport const removeChannelsAPI = ({ channelID }) => {\r\n  request({\r\n    url: `/v1_0/user/channels/${channelID}`,\r\n    method: 'DELETE',\r\n  })\r\n}\r\n//获取推荐文章列表\r\nexport const getArticleListAPI = ({ channel_id, timestamp }) => {\r\n  return request({\r\n    url: '/v1_0/articles',\r\n    // headers: {\r\n    //   Authorization: `Bearer ${getToken()}`,\r\n    // },\r\n    params: {\r\n      channel_id,\r\n      timestamp,\r\n    },\r\n  })\r\n}\r\n// 反馈不感兴趣\r\nexport const dislikeArticleAPI = (artId) =>\r\n  request({\r\n    url: '/v1_0/article/dislikes',\r\n    method: 'POST',\r\n    // headers: {\r\n    //   Authorization: `Bearer ${getToken()}`,\r\n    // },\r\n    data: {\r\n      target: artId,\r\n    },\r\n  })\r\n//文章反馈-反馈垃圾内容\r\nexport const reportArticleAPI = ({ artId, type }) =>\r\n  request({\r\n    url: '/v1_0/article/reports',\r\n    method: 'POST',\r\n    // headers: {\r\n    //   Authorization: `Bearer ${getToken()}`,\r\n    // },\r\n    data: {\r\n      target: artId,\r\n      type: type,\r\n      remark: '',\r\n    },\r\n  })\r\n//定义关键词联想的接口\r\nexport const suggestListAPI = ({ keyword }) => {\r\n  return request({\r\n    url: '/v1_0/suggestion',\r\n    params: {\r\n      q: keyword,\r\n    },\r\n  })\r\n}\r\n//定义搜索结果页面接口\r\nexport const searchResultAPI = ({ page = 1, per_page = 10, q }) => {\r\n  return request({\r\n    url: '/v1_0/search',\r\n    params: {\r\n      page,\r\n      per_page,\r\n      q,\r\n    },\r\n  })\r\n}\r\n//获取新闻详情页\r\nexport const detailAPI = ({ artId }) => {\r\n  return request({\r\n    url: `/v1_0/articles/${artId}`,\r\n  })\r\n}\r\n//用户关注\r\nexport const userFollowAPI = ({ userId }) => {\r\n  return request({\r\n    url: '/v1_0/user/followings',\r\n    method: 'POST',\r\n    data: {\r\n      target: userId,\r\n    },\r\n  })\r\n}\r\n//用户取消关注\r\nexport const removeFollowAPI = ({ userId }) => {\r\n  return request({\r\n    url: `/v1_0/user/followings/${userId}`,\r\n    method: 'DELETE',\r\n  })\r\n}\r\n//用户为文章点赞\r\nexport const likeArticleAPI = ({ target }) => {\r\n  return request({\r\n    url: '/v1_0/article/likings',\r\n    method: 'POST',\r\n    data: {\r\n      target: target,\r\n    },\r\n  })\r\n}\r\n//用户取消点赞\r\nexport const unLikeArticleAPI = ({ artId }) => {\r\n  return request({\r\n    url: `/v1_0/article/likings/${artId}`,\r\n    method: 'DELETE',\r\n  })\r\n}\r\n//获取评论数据\r\nexport const commentsAPI = ({ id, offset = null }) => {\r\n  return request({\r\n    url: '/v1_0/comments',\r\n    params: {\r\n      type: 'a',\r\n      source: id,\r\n      offset,\r\n    },\r\n  })\r\n}\r\n//对评论进行点赞\r\nexport const commentsLikeAPI = ({ id }) => {\r\n  return request({\r\n    url: '/v1_0/comment/likings',\r\n    method: 'POST',\r\n    data: {\r\n      target: id,\r\n    },\r\n  })\r\n}\r\n//对评论取消点赞\r\nexport const commentsUNLikeAPI = ({ id }) => {\r\n  return request({\r\n    url: `/v1_0/comment/likings/${id}`,\r\n    method: 'DELETE',\r\n  })\r\n}\r\n//对文章或者评论进行评论\r\nexport const addCommentAPI = ({ id, content }) => {\r\n  return request({\r\n    url: '/v1_0/comments',\r\n    method: 'POST',\r\n    data: {\r\n      target: id, //文章id或者评论的id\r\n      content,\r\n    },\r\n  })\r\n}\r\n//获取用户详细信息\r\nexport const getUsertotalAPI = () => {\r\n  return request({\r\n    url: '/v1_0/user',\r\n  })\r\n}\r\n//获取个人资料接口\r\nexport const getUserAPI = () => {\r\n  return request({\r\n    url: '/v1_0/user/profile',\r\n  })\r\n}\r\n//获取用户关注列表\r\nexport const getUserLikeAPI = () => {\r\n  return request({\r\n    url: '/v1_0/user/followings',\r\n    params: {\r\n      page,\r\n      per_page,\r\n    },\r\n  })\r\n}\r\n//编辑用户头像接口\r\nexport const changeImgAPI = (fd) => {\r\n  return request({\r\n    url: '/v1_0/user/photo',\r\n    method: 'PATCH',\r\n    data: fd, //这里的fd为外面一会传进来的new Fordata（）表单对象\r\n    //当请求头为formdata格式时，data千万不能加大括号形成json对象的格式\r\n  })\r\n}\r\n//编辑用户的个人资料\r\nexport const changeUserAPI = ({ name, gender, birthday, intro }) => {\r\n  return request({\r\n    url: '/v1_0/user/profile',\r\n    method: 'PATCH',\r\n    data: {\r\n      name,\r\n      gender,\r\n      birthday,\r\n      intro,\r\n    },\r\n  })\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}