{"ast":null,"code":"import \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\"; // Utils\n\nimport { createNamespace } from '../utils';\nimport { isMobile } from '../utils/validate/mobile'; // Components\n\nimport Cell from '../cell';\nimport Field from '../field';\nimport Button from '../button';\nimport Dialog from '../dialog';\nimport Switch from '../switch';\n\nvar _createNamespace = createNamespace('contact-edit'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nvar defaultContact = {\n  tel: '',\n  name: ''\n};\nexport default createComponent({\n  props: {\n    isEdit: Boolean,\n    isSaving: Boolean,\n    isDeleting: Boolean,\n    showSetDefault: Boolean,\n    setDefaultLabel: String,\n    contactInfo: {\n      type: Object,\n      default: function _default() {\n        return _extends({}, defaultContact);\n      }\n    },\n    telValidator: {\n      type: Function,\n      default: isMobile\n    }\n  },\n  data: function data() {\n    return {\n      data: _extends({}, defaultContact, this.contactInfo),\n      errorInfo: {\n        name: '',\n        tel: ''\n      }\n    };\n  },\n  watch: {\n    contactInfo: function contactInfo(val) {\n      this.data = _extends({}, defaultContact, val);\n    }\n  },\n  methods: {\n    onFocus: function onFocus(key) {\n      this.errorInfo[key] = '';\n    },\n    getErrorMessageByKey: function getErrorMessageByKey(key) {\n      var value = this.data[key].trim();\n\n      switch (key) {\n        case 'name':\n          return value ? '' : t('nameInvalid');\n\n        case 'tel':\n          return this.telValidator(value) ? '' : t('telInvalid');\n      }\n    },\n    onSave: function onSave() {\n      var _this = this;\n\n      var isValid = ['name', 'tel'].every(function (item) {\n        var msg = _this.getErrorMessageByKey(item);\n\n        if (msg) {\n          _this.errorInfo[item] = msg;\n        }\n\n        return !msg;\n      });\n\n      if (isValid && !this.isSaving) {\n        this.$emit('save', this.data);\n      }\n    },\n    onDelete: function onDelete() {\n      var _this2 = this;\n\n      Dialog.confirm({\n        title: t('confirmDelete')\n      }).then(function () {\n        _this2.$emit('delete', _this2.data);\n      });\n    }\n  },\n  render: function render() {\n    var _this3 = this;\n\n    var h = arguments[0];\n    var data = this.data,\n        errorInfo = this.errorInfo;\n\n    var onFocus = function onFocus(name) {\n      return function () {\n        return _this3.onFocus(name);\n      };\n    };\n\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"class\": bem('fields')\n    }, [h(Field, {\n      \"attrs\": {\n        \"clearable\": true,\n        \"maxlength\": \"30\",\n        \"label\": t('name'),\n        \"placeholder\": t('nameEmpty'),\n        \"errorMessage\": errorInfo.name\n      },\n      \"on\": {\n        \"focus\": onFocus('name')\n      },\n      \"model\": {\n        value: data.name,\n        callback: function callback($$v) {\n          _this3.$set(data, \"name\", $$v);\n        }\n      }\n    }), h(Field, {\n      \"attrs\": {\n        \"clearable\": true,\n        \"type\": \"tel\",\n        \"label\": t('tel'),\n        \"placeholder\": t('telEmpty'),\n        \"errorMessage\": errorInfo.tel\n      },\n      \"on\": {\n        \"focus\": onFocus('tel')\n      },\n      \"model\": {\n        value: data.tel,\n        callback: function callback($$v) {\n          _this3.$set(data, \"tel\", $$v);\n        }\n      }\n    })]), this.showSetDefault && h(Cell, {\n      \"attrs\": {\n        \"title\": this.setDefaultLabel,\n        \"border\": false\n      },\n      \"class\": bem('switch-cell')\n    }, [h(Switch, {\n      \"attrs\": {\n        \"size\": 24\n      },\n      \"slot\": \"right-icon\",\n      \"on\": {\n        \"change\": function change(event) {\n          _this3.$emit('change-default', event);\n        }\n      },\n      \"model\": {\n        value: data.isDefault,\n        callback: function callback($$v) {\n          _this3.$set(data, \"isDefault\", $$v);\n        }\n      }\n    })]), h(\"div\", {\n      \"class\": bem('buttons')\n    }, [h(Button, {\n      \"attrs\": {\n        \"block\": true,\n        \"round\": true,\n        \"type\": \"danger\",\n        \"text\": t('save'),\n        \"loading\": this.isSaving\n      },\n      \"on\": {\n        \"click\": this.onSave\n      }\n    }), this.isEdit && h(Button, {\n      \"attrs\": {\n        \"block\": true,\n        \"round\": true,\n        \"text\": t('delete'),\n        \"loading\": this.isDeleting\n      },\n      \"on\": {\n        \"click\": this.onDelete\n      }\n    })])]);\n  }\n});","map":{"version":3,"names":["_extends","createNamespace","isMobile","Cell","Field","Button","Dialog","Switch","_createNamespace","createComponent","bem","t","defaultContact","tel","name","props","isEdit","Boolean","isSaving","isDeleting","showSetDefault","setDefaultLabel","String","contactInfo","type","Object","default","_default","telValidator","Function","data","errorInfo","watch","val","methods","onFocus","key","getErrorMessageByKey","value","trim","onSave","_this","isValid","every","item","msg","$emit","onDelete","_this2","confirm","title","then","render","_this3","h","arguments","callback","$$v","$set","change","event","isDefault"],"sources":["C:/Users/小王/node_modules/vant/es/contact-edit/index.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\n// Utils\nimport { createNamespace } from '../utils';\nimport { isMobile } from '../utils/validate/mobile'; // Components\n\nimport Cell from '../cell';\nimport Field from '../field';\nimport Button from '../button';\nimport Dialog from '../dialog';\nimport Switch from '../switch';\n\nvar _createNamespace = createNamespace('contact-edit'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nvar defaultContact = {\n  tel: '',\n  name: ''\n};\nexport default createComponent({\n  props: {\n    isEdit: Boolean,\n    isSaving: Boolean,\n    isDeleting: Boolean,\n    showSetDefault: Boolean,\n    setDefaultLabel: String,\n    contactInfo: {\n      type: Object,\n      default: function _default() {\n        return _extends({}, defaultContact);\n      }\n    },\n    telValidator: {\n      type: Function,\n      default: isMobile\n    }\n  },\n  data: function data() {\n    return {\n      data: _extends({}, defaultContact, this.contactInfo),\n      errorInfo: {\n        name: '',\n        tel: ''\n      }\n    };\n  },\n  watch: {\n    contactInfo: function contactInfo(val) {\n      this.data = _extends({}, defaultContact, val);\n    }\n  },\n  methods: {\n    onFocus: function onFocus(key) {\n      this.errorInfo[key] = '';\n    },\n    getErrorMessageByKey: function getErrorMessageByKey(key) {\n      var value = this.data[key].trim();\n\n      switch (key) {\n        case 'name':\n          return value ? '' : t('nameInvalid');\n\n        case 'tel':\n          return this.telValidator(value) ? '' : t('telInvalid');\n      }\n    },\n    onSave: function onSave() {\n      var _this = this;\n\n      var isValid = ['name', 'tel'].every(function (item) {\n        var msg = _this.getErrorMessageByKey(item);\n\n        if (msg) {\n          _this.errorInfo[item] = msg;\n        }\n\n        return !msg;\n      });\n\n      if (isValid && !this.isSaving) {\n        this.$emit('save', this.data);\n      }\n    },\n    onDelete: function onDelete() {\n      var _this2 = this;\n\n      Dialog.confirm({\n        title: t('confirmDelete')\n      }).then(function () {\n        _this2.$emit('delete', _this2.data);\n      });\n    }\n  },\n  render: function render() {\n    var _this3 = this;\n\n    var h = arguments[0];\n    var data = this.data,\n        errorInfo = this.errorInfo;\n\n    var onFocus = function onFocus(name) {\n      return function () {\n        return _this3.onFocus(name);\n      };\n    };\n\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"class\": bem('fields')\n    }, [h(Field, {\n      \"attrs\": {\n        \"clearable\": true,\n        \"maxlength\": \"30\",\n        \"label\": t('name'),\n        \"placeholder\": t('nameEmpty'),\n        \"errorMessage\": errorInfo.name\n      },\n      \"on\": {\n        \"focus\": onFocus('name')\n      },\n      \"model\": {\n        value: data.name,\n        callback: function callback($$v) {\n          _this3.$set(data, \"name\", $$v);\n        }\n      }\n    }), h(Field, {\n      \"attrs\": {\n        \"clearable\": true,\n        \"type\": \"tel\",\n        \"label\": t('tel'),\n        \"placeholder\": t('telEmpty'),\n        \"errorMessage\": errorInfo.tel\n      },\n      \"on\": {\n        \"focus\": onFocus('tel')\n      },\n      \"model\": {\n        value: data.tel,\n        callback: function callback($$v) {\n          _this3.$set(data, \"tel\", $$v);\n        }\n      }\n    })]), this.showSetDefault && h(Cell, {\n      \"attrs\": {\n        \"title\": this.setDefaultLabel,\n        \"border\": false\n      },\n      \"class\": bem('switch-cell')\n    }, [h(Switch, {\n      \"attrs\": {\n        \"size\": 24\n      },\n      \"slot\": \"right-icon\",\n      \"on\": {\n        \"change\": function change(event) {\n          _this3.$emit('change-default', event);\n        }\n      },\n      \"model\": {\n        value: data.isDefault,\n        callback: function callback($$v) {\n          _this3.$set(data, \"isDefault\", $$v);\n        }\n      }\n    })]), h(\"div\", {\n      \"class\": bem('buttons')\n    }, [h(Button, {\n      \"attrs\": {\n        \"block\": true,\n        \"round\": true,\n        \"type\": \"danger\",\n        \"text\": t('save'),\n        \"loading\": this.isSaving\n      },\n      \"on\": {\n        \"click\": this.onSave\n      }\n    }), this.isEdit && h(Button, {\n      \"attrs\": {\n        \"block\": true,\n        \"round\": true,\n        \"text\": t('delete'),\n        \"loading\": this.isDeleting\n      },\n      \"on\": {\n        \"click\": this.onDelete\n      }\n    })])]);\n  }\n});"],"mappings":";;;AAAA,OAAOA,QAAP,MAAqB,oCAArB,C,CACA;;AACA,SAASC,eAAT,QAAgC,UAAhC;AACA,SAASC,QAAT,QAAyB,0BAAzB,C,CAAqD;;AAErD,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,MAAP,MAAmB,WAAnB;;AAEA,IAAIC,gBAAgB,GAAGP,eAAe,CAAC,cAAD,CAAtC;AAAA,IACIQ,eAAe,GAAGD,gBAAgB,CAAC,CAAD,CADtC;AAAA,IAEIE,GAAG,GAAGF,gBAAgB,CAAC,CAAD,CAF1B;AAAA,IAGIG,CAAC,GAAGH,gBAAgB,CAAC,CAAD,CAHxB;;AAKA,IAAII,cAAc,GAAG;EACnBC,GAAG,EAAE,EADc;EAEnBC,IAAI,EAAE;AAFa,CAArB;AAIA,eAAeL,eAAe,CAAC;EAC7BM,KAAK,EAAE;IACLC,MAAM,EAAEC,OADH;IAELC,QAAQ,EAAED,OAFL;IAGLE,UAAU,EAAEF,OAHP;IAILG,cAAc,EAAEH,OAJX;IAKLI,eAAe,EAAEC,MALZ;IAMLC,WAAW,EAAE;MACXC,IAAI,EAAEC,MADK;MAEXC,OAAO,EAAE,SAASC,QAAT,GAAoB;QAC3B,OAAO3B,QAAQ,CAAC,EAAD,EAAKY,cAAL,CAAf;MACD;IAJU,CANR;IAYLgB,YAAY,EAAE;MACZJ,IAAI,EAAEK,QADM;MAEZH,OAAO,EAAExB;IAFG;EAZT,CADsB;EAkB7B4B,IAAI,EAAE,SAASA,IAAT,GAAgB;IACpB,OAAO;MACLA,IAAI,EAAE9B,QAAQ,CAAC,EAAD,EAAKY,cAAL,EAAqB,KAAKW,WAA1B,CADT;MAELQ,SAAS,EAAE;QACTjB,IAAI,EAAE,EADG;QAETD,GAAG,EAAE;MAFI;IAFN,CAAP;EAOD,CA1B4B;EA2B7BmB,KAAK,EAAE;IACLT,WAAW,EAAE,SAASA,WAAT,CAAqBU,GAArB,EAA0B;MACrC,KAAKH,IAAL,GAAY9B,QAAQ,CAAC,EAAD,EAAKY,cAAL,EAAqBqB,GAArB,CAApB;IACD;EAHI,CA3BsB;EAgC7BC,OAAO,EAAE;IACPC,OAAO,EAAE,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;MAC7B,KAAKL,SAAL,CAAeK,GAAf,IAAsB,EAAtB;IACD,CAHM;IAIPC,oBAAoB,EAAE,SAASA,oBAAT,CAA8BD,GAA9B,EAAmC;MACvD,IAAIE,KAAK,GAAG,KAAKR,IAAL,CAAUM,GAAV,EAAeG,IAAf,EAAZ;;MAEA,QAAQH,GAAR;QACE,KAAK,MAAL;UACE,OAAOE,KAAK,GAAG,EAAH,GAAQ3B,CAAC,CAAC,aAAD,CAArB;;QAEF,KAAK,KAAL;UACE,OAAO,KAAKiB,YAAL,CAAkBU,KAAlB,IAA2B,EAA3B,GAAgC3B,CAAC,CAAC,YAAD,CAAxC;MALJ;IAOD,CAdM;IAeP6B,MAAM,EAAE,SAASA,MAAT,GAAkB;MACxB,IAAIC,KAAK,GAAG,IAAZ;;MAEA,IAAIC,OAAO,GAAG,CAAC,MAAD,EAAS,KAAT,EAAgBC,KAAhB,CAAsB,UAAUC,IAAV,EAAgB;QAClD,IAAIC,GAAG,GAAGJ,KAAK,CAACJ,oBAAN,CAA2BO,IAA3B,CAAV;;QAEA,IAAIC,GAAJ,EAAS;UACPJ,KAAK,CAACV,SAAN,CAAgBa,IAAhB,IAAwBC,GAAxB;QACD;;QAED,OAAO,CAACA,GAAR;MACD,CARa,CAAd;;MAUA,IAAIH,OAAO,IAAI,CAAC,KAAKxB,QAArB,EAA+B;QAC7B,KAAK4B,KAAL,CAAW,MAAX,EAAmB,KAAKhB,IAAxB;MACD;IACF,CA/BM;IAgCPiB,QAAQ,EAAE,SAASA,QAAT,GAAoB;MAC5B,IAAIC,MAAM,GAAG,IAAb;;MAEA1C,MAAM,CAAC2C,OAAP,CAAe;QACbC,KAAK,EAAEvC,CAAC,CAAC,eAAD;MADK,CAAf,EAEGwC,IAFH,CAEQ,YAAY;QAClBH,MAAM,CAACF,KAAP,CAAa,QAAb,EAAuBE,MAAM,CAAClB,IAA9B;MACD,CAJD;IAKD;EAxCM,CAhCoB;EA0E7BsB,MAAM,EAAE,SAASA,MAAT,GAAkB;IACxB,IAAIC,MAAM,GAAG,IAAb;;IAEA,IAAIC,CAAC,GAAGC,SAAS,CAAC,CAAD,CAAjB;IACA,IAAIzB,IAAI,GAAG,KAAKA,IAAhB;IAAA,IACIC,SAAS,GAAG,KAAKA,SADrB;;IAGA,IAAII,OAAO,GAAG,SAASA,OAAT,CAAiBrB,IAAjB,EAAuB;MACnC,OAAO,YAAY;QACjB,OAAOuC,MAAM,CAAClB,OAAP,CAAerB,IAAf,CAAP;MACD,CAFD;IAGD,CAJD;;IAMA,OAAOwC,CAAC,CAAC,KAAD,EAAQ;MACd,SAAS5C,GAAG;IADE,CAAR,EAEL,CAAC4C,CAAC,CAAC,KAAD,EAAQ;MACX,SAAS5C,GAAG,CAAC,QAAD;IADD,CAAR,EAEF,CAAC4C,CAAC,CAAClD,KAAD,EAAQ;MACX,SAAS;QACP,aAAa,IADN;QAEP,aAAa,IAFN;QAGP,SAASO,CAAC,CAAC,MAAD,CAHH;QAIP,eAAeA,CAAC,CAAC,WAAD,CAJT;QAKP,gBAAgBoB,SAAS,CAACjB;MALnB,CADE;MAQX,MAAM;QACJ,SAASqB,OAAO,CAAC,MAAD;MADZ,CARK;MAWX,SAAS;QACPG,KAAK,EAAER,IAAI,CAAChB,IADL;QAEP0C,QAAQ,EAAE,SAASA,QAAT,CAAkBC,GAAlB,EAAuB;UAC/BJ,MAAM,CAACK,IAAP,CAAY5B,IAAZ,EAAkB,MAAlB,EAA0B2B,GAA1B;QACD;MAJM;IAXE,CAAR,CAAF,EAiBCH,CAAC,CAAClD,KAAD,EAAQ;MACX,SAAS;QACP,aAAa,IADN;QAEP,QAAQ,KAFD;QAGP,SAASO,CAAC,CAAC,KAAD,CAHH;QAIP,eAAeA,CAAC,CAAC,UAAD,CAJT;QAKP,gBAAgBoB,SAAS,CAAClB;MALnB,CADE;MAQX,MAAM;QACJ,SAASsB,OAAO,CAAC,KAAD;MADZ,CARK;MAWX,SAAS;QACPG,KAAK,EAAER,IAAI,CAACjB,GADL;QAEP2C,QAAQ,EAAE,SAASA,QAAT,CAAkBC,GAAlB,EAAuB;UAC/BJ,MAAM,CAACK,IAAP,CAAY5B,IAAZ,EAAkB,KAAlB,EAAyB2B,GAAzB;QACD;MAJM;IAXE,CAAR,CAjBF,CAFE,CAAF,EAoCG,KAAKrC,cAAL,IAAuBkC,CAAC,CAACnD,IAAD,EAAO;MACnC,SAAS;QACP,SAAS,KAAKkB,eADP;QAEP,UAAU;MAFH,CAD0B;MAKnC,SAASX,GAAG,CAAC,aAAD;IALuB,CAAP,EAM3B,CAAC4C,CAAC,CAAC/C,MAAD,EAAS;MACZ,SAAS;QACP,QAAQ;MADD,CADG;MAIZ,QAAQ,YAJI;MAKZ,MAAM;QACJ,UAAU,SAASoD,MAAT,CAAgBC,KAAhB,EAAuB;UAC/BP,MAAM,CAACP,KAAP,CAAa,gBAAb,EAA+Bc,KAA/B;QACD;MAHG,CALM;MAUZ,SAAS;QACPtB,KAAK,EAAER,IAAI,CAAC+B,SADL;QAEPL,QAAQ,EAAE,SAASA,QAAT,CAAkBC,GAAlB,EAAuB;UAC/BJ,MAAM,CAACK,IAAP,CAAY5B,IAAZ,EAAkB,WAAlB,EAA+B2B,GAA/B;QACD;MAJM;IAVG,CAAT,CAAF,CAN2B,CApC3B,EA0DGH,CAAC,CAAC,KAAD,EAAQ;MACb,SAAS5C,GAAG,CAAC,SAAD;IADC,CAAR,EAEJ,CAAC4C,CAAC,CAACjD,MAAD,EAAS;MACZ,SAAS;QACP,SAAS,IADF;QAEP,SAAS,IAFF;QAGP,QAAQ,QAHD;QAIP,QAAQM,CAAC,CAAC,MAAD,CAJF;QAKP,WAAW,KAAKO;MALT,CADG;MAQZ,MAAM;QACJ,SAAS,KAAKsB;MADV;IARM,CAAT,CAAF,EAWC,KAAKxB,MAAL,IAAesC,CAAC,CAACjD,MAAD,EAAS;MAC3B,SAAS;QACP,SAAS,IADF;QAEP,SAAS,IAFF;QAGP,QAAQM,CAAC,CAAC,QAAD,CAHF;QAIP,WAAW,KAAKQ;MAJT,CADkB;MAO3B,MAAM;QACJ,SAAS,KAAK4B;MADV;IAPqB,CAAT,CAXjB,CAFI,CA1DJ,CAFK,CAAR;EAoFD;AA3K4B,CAAD,CAA9B"},"metadata":{},"sourceType":"module"}