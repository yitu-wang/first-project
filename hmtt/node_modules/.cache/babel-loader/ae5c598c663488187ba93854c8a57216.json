{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.fill.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport { createNamespace, isObject, addUnit } from '../utils';\nimport { raf, cancelRaf } from '../utils/dom/raf';\n\nvar _createNamespace = createNamespace('circle'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nvar PERIMETER = 3140;\nvar uid = 0;\n\nfunction format(rate) {\n  return Math.min(Math.max(rate, 0), 100);\n}\n\nfunction getPath(clockwise, viewBoxSize) {\n  var sweepFlag = clockwise ? 1 : 0;\n  return \"M \" + viewBoxSize / 2 + \" \" + viewBoxSize / 2 + \" m 0, -500 a 500, 500 0 1, \" + sweepFlag + \" 0, 1000 a 500, 500 0 1, \" + sweepFlag + \" 0, -1000\";\n}\n\nexport default createComponent({\n  props: {\n    text: String,\n    size: [Number, String],\n    color: [String, Object],\n    layerColor: String,\n    strokeLinecap: String,\n    value: {\n      type: Number,\n      default: 0\n    },\n    speed: {\n      type: [Number, String],\n      default: 0\n    },\n    fill: {\n      type: String,\n      default: 'none'\n    },\n    rate: {\n      type: [Number, String],\n      default: 100\n    },\n    strokeWidth: {\n      type: [Number, String],\n      default: 40\n    },\n    clockwise: {\n      type: Boolean,\n      default: true\n    }\n  },\n  beforeCreate: function beforeCreate() {\n    this.uid = \"van-circle-gradient-\" + uid++;\n  },\n  computed: {\n    style: function style() {\n      var size = addUnit(this.size);\n      return {\n        width: size,\n        height: size\n      };\n    },\n    path: function path() {\n      return getPath(this.clockwise, this.viewBoxSize);\n    },\n    viewBoxSize: function viewBoxSize() {\n      return +this.strokeWidth + 1000;\n    },\n    layerStyle: function layerStyle() {\n      return {\n        fill: \"\" + this.fill,\n        stroke: \"\" + this.layerColor,\n        strokeWidth: this.strokeWidth + \"px\"\n      };\n    },\n    hoverStyle: function hoverStyle() {\n      var offset = PERIMETER * this.value / 100;\n      return {\n        stroke: \"\" + (this.gradient ? \"url(#\" + this.uid + \")\" : this.color),\n        strokeWidth: +this.strokeWidth + 1 + \"px\",\n        strokeLinecap: this.strokeLinecap,\n        strokeDasharray: offset + \"px \" + PERIMETER + \"px\"\n      };\n    },\n    gradient: function gradient() {\n      return isObject(this.color);\n    },\n    LinearGradient: function LinearGradient() {\n      var _this = this;\n\n      var h = this.$createElement;\n\n      if (!this.gradient) {\n        return;\n      }\n\n      var Stops = Object.keys(this.color).sort(function (a, b) {\n        return parseFloat(a) - parseFloat(b);\n      }).map(function (key, index) {\n        return h(\"stop\", {\n          \"key\": index,\n          \"attrs\": {\n            \"offset\": key,\n            \"stop-color\": _this.color[key]\n          }\n        });\n      });\n      return h(\"defs\", [h(\"linearGradient\", {\n        \"attrs\": {\n          \"id\": this.uid,\n          \"x1\": \"100%\",\n          \"y1\": \"0%\",\n          \"x2\": \"0%\",\n          \"y2\": \"0%\"\n        }\n      }, [Stops])]);\n    }\n  },\n  watch: {\n    rate: {\n      handler: function handler(rate) {\n        this.startTime = Date.now();\n        this.startRate = this.value;\n        this.endRate = format(rate);\n        this.increase = this.endRate > this.startRate;\n        this.duration = Math.abs((this.startRate - this.endRate) * 1000 / this.speed);\n\n        if (this.speed) {\n          cancelRaf(this.rafId);\n          this.rafId = raf(this.animate);\n        } else {\n          this.$emit('input', this.endRate);\n        }\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    animate: function animate() {\n      var now = Date.now();\n      var progress = Math.min((now - this.startTime) / this.duration, 1);\n      var rate = progress * (this.endRate - this.startRate) + this.startRate;\n      this.$emit('input', format(parseFloat(rate.toFixed(1))));\n\n      if (this.increase ? rate < this.endRate : rate > this.endRate) {\n        this.rafId = raf(this.animate);\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem(),\n      \"style\": this.style\n    }, [h(\"svg\", {\n      \"attrs\": {\n        \"viewBox\": \"0 0 \" + this.viewBoxSize + \" \" + this.viewBoxSize\n      }\n    }, [this.LinearGradient, h(\"path\", {\n      \"class\": bem('layer'),\n      \"style\": this.layerStyle,\n      \"attrs\": {\n        \"d\": this.path\n      }\n    }), h(\"path\", {\n      \"attrs\": {\n        \"d\": this.path\n      },\n      \"class\": bem('hover'),\n      \"style\": this.hoverStyle\n    })]), this.slots() || this.text && h(\"div\", {\n      \"class\": bem('text')\n    }, [this.text])]);\n  }\n});","map":{"version":3,"names":["createNamespace","isObject","addUnit","raf","cancelRaf","_createNamespace","createComponent","bem","PERIMETER","uid","format","rate","Math","min","max","getPath","clockwise","viewBoxSize","sweepFlag","props","text","String","size","Number","color","Object","layerColor","strokeLinecap","value","type","default","speed","fill","strokeWidth","Boolean","beforeCreate","computed","style","width","height","path","layerStyle","stroke","hoverStyle","offset","gradient","strokeDasharray","LinearGradient","_this","h","$createElement","Stops","keys","sort","a","b","parseFloat","map","key","index","watch","handler","startTime","Date","now","startRate","endRate","increase","duration","abs","rafId","animate","$emit","immediate","methods","progress","toFixed","render","arguments","slots"],"sources":["C:/Users/小王/node_modules/vant/es/circle/index.js"],"sourcesContent":["import { createNamespace, isObject, addUnit } from '../utils';\nimport { raf, cancelRaf } from '../utils/dom/raf';\n\nvar _createNamespace = createNamespace('circle'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nvar PERIMETER = 3140;\nvar uid = 0;\n\nfunction format(rate) {\n  return Math.min(Math.max(rate, 0), 100);\n}\n\nfunction getPath(clockwise, viewBoxSize) {\n  var sweepFlag = clockwise ? 1 : 0;\n  return \"M \" + viewBoxSize / 2 + \" \" + viewBoxSize / 2 + \" m 0, -500 a 500, 500 0 1, \" + sweepFlag + \" 0, 1000 a 500, 500 0 1, \" + sweepFlag + \" 0, -1000\";\n}\n\nexport default createComponent({\n  props: {\n    text: String,\n    size: [Number, String],\n    color: [String, Object],\n    layerColor: String,\n    strokeLinecap: String,\n    value: {\n      type: Number,\n      default: 0\n    },\n    speed: {\n      type: [Number, String],\n      default: 0\n    },\n    fill: {\n      type: String,\n      default: 'none'\n    },\n    rate: {\n      type: [Number, String],\n      default: 100\n    },\n    strokeWidth: {\n      type: [Number, String],\n      default: 40\n    },\n    clockwise: {\n      type: Boolean,\n      default: true\n    }\n  },\n  beforeCreate: function beforeCreate() {\n    this.uid = \"van-circle-gradient-\" + uid++;\n  },\n  computed: {\n    style: function style() {\n      var size = addUnit(this.size);\n      return {\n        width: size,\n        height: size\n      };\n    },\n    path: function path() {\n      return getPath(this.clockwise, this.viewBoxSize);\n    },\n    viewBoxSize: function viewBoxSize() {\n      return +this.strokeWidth + 1000;\n    },\n    layerStyle: function layerStyle() {\n      return {\n        fill: \"\" + this.fill,\n        stroke: \"\" + this.layerColor,\n        strokeWidth: this.strokeWidth + \"px\"\n      };\n    },\n    hoverStyle: function hoverStyle() {\n      var offset = PERIMETER * this.value / 100;\n      return {\n        stroke: \"\" + (this.gradient ? \"url(#\" + this.uid + \")\" : this.color),\n        strokeWidth: +this.strokeWidth + 1 + \"px\",\n        strokeLinecap: this.strokeLinecap,\n        strokeDasharray: offset + \"px \" + PERIMETER + \"px\"\n      };\n    },\n    gradient: function gradient() {\n      return isObject(this.color);\n    },\n    LinearGradient: function LinearGradient() {\n      var _this = this;\n\n      var h = this.$createElement;\n\n      if (!this.gradient) {\n        return;\n      }\n\n      var Stops = Object.keys(this.color).sort(function (a, b) {\n        return parseFloat(a) - parseFloat(b);\n      }).map(function (key, index) {\n        return h(\"stop\", {\n          \"key\": index,\n          \"attrs\": {\n            \"offset\": key,\n            \"stop-color\": _this.color[key]\n          }\n        });\n      });\n      return h(\"defs\", [h(\"linearGradient\", {\n        \"attrs\": {\n          \"id\": this.uid,\n          \"x1\": \"100%\",\n          \"y1\": \"0%\",\n          \"x2\": \"0%\",\n          \"y2\": \"0%\"\n        }\n      }, [Stops])]);\n    }\n  },\n  watch: {\n    rate: {\n      handler: function handler(rate) {\n        this.startTime = Date.now();\n        this.startRate = this.value;\n        this.endRate = format(rate);\n        this.increase = this.endRate > this.startRate;\n        this.duration = Math.abs((this.startRate - this.endRate) * 1000 / this.speed);\n\n        if (this.speed) {\n          cancelRaf(this.rafId);\n          this.rafId = raf(this.animate);\n        } else {\n          this.$emit('input', this.endRate);\n        }\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    animate: function animate() {\n      var now = Date.now();\n      var progress = Math.min((now - this.startTime) / this.duration, 1);\n      var rate = progress * (this.endRate - this.startRate) + this.startRate;\n      this.$emit('input', format(parseFloat(rate.toFixed(1))));\n\n      if (this.increase ? rate < this.endRate : rate > this.endRate) {\n        this.rafId = raf(this.animate);\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem(),\n      \"style\": this.style\n    }, [h(\"svg\", {\n      \"attrs\": {\n        \"viewBox\": \"0 0 \" + this.viewBoxSize + \" \" + this.viewBoxSize\n      }\n    }, [this.LinearGradient, h(\"path\", {\n      \"class\": bem('layer'),\n      \"style\": this.layerStyle,\n      \"attrs\": {\n        \"d\": this.path\n      }\n    }), h(\"path\", {\n      \"attrs\": {\n        \"d\": this.path\n      },\n      \"class\": bem('hover'),\n      \"style\": this.hoverStyle\n    })]), this.slots() || this.text && h(\"div\", {\n      \"class\": bem('text')\n    }, [this.text])]);\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}