{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createPopper as _createPopper, offsetModifier } from '@vant/popperjs';\nimport { createNamespace } from '../utils';\nimport { BORDER_BOTTOM } from '../utils/constant'; // Mixins\n\nimport { ClickOutsideMixin } from '../mixins/click-outside'; // Components\n\nimport Icon from '../icon';\nimport Popup from '../popup';\n\nvar _createNamespace = createNamespace('popover'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ClickOutsideMixin({\n    event: 'touchstart',\n    method: 'onClickOutside'\n  })],\n  props: {\n    value: Boolean,\n    trigger: String,\n    overlay: Boolean,\n    offset: {\n      type: Array,\n      default: function _default() {\n        return [0, 8];\n      }\n    },\n    theme: {\n      type: String,\n      default: 'light'\n    },\n    actions: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    placement: {\n      type: String,\n      default: 'bottom'\n    },\n    getContainer: {\n      type: [String, Function],\n      default: 'body'\n    },\n    closeOnClickAction: {\n      type: Boolean,\n      default: true\n    }\n  },\n  watch: {\n    value: 'updateLocation',\n    placement: 'updateLocation'\n  },\n  mounted: function mounted() {\n    this.updateLocation();\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.popper) {\n      this.popper.destroy();\n      this.popper = null;\n    }\n  },\n  methods: {\n    createPopper: function createPopper() {\n      return _createPopper(this.$refs.wrapper, this.$refs.popover.$el, {\n        placement: this.placement,\n        modifiers: [{\n          name: 'computeStyles',\n          options: {\n            adaptive: false,\n            gpuAcceleration: false\n          }\n        }, _extends({}, offsetModifier, {\n          options: {\n            offset: this.offset\n          }\n        })]\n      });\n    },\n    updateLocation: function updateLocation() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        if (!_this.value) {\n          return;\n        }\n\n        if (!_this.popper) {\n          _this.popper = _this.createPopper();\n        } else {\n          _this.popper.setOptions({\n            placement: _this.placement\n          });\n        }\n      });\n    },\n    renderAction: function renderAction(action, index) {\n      var _this2 = this;\n\n      var h = this.$createElement;\n      var icon = action.icon,\n          text = action.text,\n          disabled = action.disabled,\n          className = action.className;\n      return h(\"div\", {\n        \"attrs\": {\n          \"role\": \"menuitem\"\n        },\n        \"class\": [bem('action', {\n          disabled: disabled,\n          'with-icon': icon\n        }), className],\n        \"on\": {\n          \"click\": function click() {\n            return _this2.onClickAction(action, index);\n          }\n        }\n      }, [icon && h(Icon, {\n        \"attrs\": {\n          \"name\": icon\n        },\n        \"class\": bem('action-icon')\n      }), h(\"div\", {\n        \"class\": [bem('action-text'), BORDER_BOTTOM]\n      }, [text])]);\n    },\n    onToggle: function onToggle(value) {\n      this.$emit('input', value);\n    },\n    onClickWrapper: function onClickWrapper() {\n      if (this.trigger === 'click') {\n        this.onToggle(!this.value);\n      }\n    },\n    onTouchstart: function onTouchstart(event) {\n      event.stopPropagation();\n      this.$emit('touchstart', event);\n    },\n    onClickAction: function onClickAction(action, index) {\n      if (action.disabled) {\n        return;\n      }\n\n      this.$emit('select', action, index);\n\n      if (this.closeOnClickAction) {\n        this.$emit('input', false);\n      }\n    },\n    onClickOutside: function onClickOutside() {\n      this.$emit('input', false);\n    },\n    onOpen: function onOpen() {\n      this.$emit('open');\n    },\n\n    /* istanbul ignore next */\n    onOpened: function onOpened() {\n      this.$emit('opened');\n    },\n    onClose: function onClose() {\n      this.$emit('close');\n    },\n\n    /* istanbul ignore next */\n    onClosed: function onClosed() {\n      this.$emit('closed');\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"span\", {\n      \"ref\": \"wrapper\",\n      \"class\": bem('wrapper'),\n      \"on\": {\n        \"click\": this.onClickWrapper\n      }\n    }, [h(Popup, {\n      \"ref\": \"popover\",\n      \"attrs\": {\n        \"value\": this.value,\n        \"overlay\": this.overlay,\n        \"position\": null,\n        \"transition\": \"van-popover-zoom\",\n        \"lockScroll\": false,\n        \"getContainer\": this.getContainer\n      },\n      \"class\": bem([this.theme]),\n      \"on\": {\n        \"open\": this.onOpen,\n        \"close\": this.onClose,\n        \"input\": this.onToggle,\n        \"opened\": this.onOpened,\n        \"closed\": this.onClosed\n      },\n      \"nativeOn\": {\n        \"touchstart\": this.onTouchstart\n      }\n    }, [h(\"div\", {\n      \"class\": bem('arrow')\n    }), h(\"div\", {\n      \"class\": bem('content'),\n      \"attrs\": {\n        \"role\": \"menu\"\n      }\n    }, [this.slots('default') || this.actions.map(this.renderAction)])]), this.slots('reference')]);\n  }\n});","map":{"version":3,"names":["_extends","createPopper","_createPopper","offsetModifier","createNamespace","BORDER_BOTTOM","ClickOutsideMixin","Icon","Popup","_createNamespace","createComponent","bem","mixins","event","method","props","value","Boolean","trigger","String","overlay","offset","type","Array","default","_default","theme","actions","placement","getContainer","Function","closeOnClickAction","watch","mounted","updateLocation","beforeDestroy","popper","destroy","methods","$refs","wrapper","popover","$el","modifiers","name","options","adaptive","gpuAcceleration","_this","$nextTick","setOptions","renderAction","action","index","_this2","h","$createElement","icon","text","disabled","className","click","onClickAction","onToggle","$emit","onClickWrapper","onTouchstart","stopPropagation","onClickOutside","onOpen","onOpened","onClose","onClosed","render","arguments","slots","map"],"sources":["C:/Users/小王/node_modules/vant/es/popover/index.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createPopper as _createPopper, offsetModifier } from '@vant/popperjs';\nimport { createNamespace } from '../utils';\nimport { BORDER_BOTTOM } from '../utils/constant'; // Mixins\n\nimport { ClickOutsideMixin } from '../mixins/click-outside'; // Components\n\nimport Icon from '../icon';\nimport Popup from '../popup';\n\nvar _createNamespace = createNamespace('popover'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ClickOutsideMixin({\n    event: 'touchstart',\n    method: 'onClickOutside'\n  })],\n  props: {\n    value: Boolean,\n    trigger: String,\n    overlay: Boolean,\n    offset: {\n      type: Array,\n      default: function _default() {\n        return [0, 8];\n      }\n    },\n    theme: {\n      type: String,\n      default: 'light'\n    },\n    actions: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    placement: {\n      type: String,\n      default: 'bottom'\n    },\n    getContainer: {\n      type: [String, Function],\n      default: 'body'\n    },\n    closeOnClickAction: {\n      type: Boolean,\n      default: true\n    }\n  },\n  watch: {\n    value: 'updateLocation',\n    placement: 'updateLocation'\n  },\n  mounted: function mounted() {\n    this.updateLocation();\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.popper) {\n      this.popper.destroy();\n      this.popper = null;\n    }\n  },\n  methods: {\n    createPopper: function createPopper() {\n      return _createPopper(this.$refs.wrapper, this.$refs.popover.$el, {\n        placement: this.placement,\n        modifiers: [{\n          name: 'computeStyles',\n          options: {\n            adaptive: false,\n            gpuAcceleration: false\n          }\n        }, _extends({}, offsetModifier, {\n          options: {\n            offset: this.offset\n          }\n        })]\n      });\n    },\n    updateLocation: function updateLocation() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        if (!_this.value) {\n          return;\n        }\n\n        if (!_this.popper) {\n          _this.popper = _this.createPopper();\n        } else {\n          _this.popper.setOptions({\n            placement: _this.placement\n          });\n        }\n      });\n    },\n    renderAction: function renderAction(action, index) {\n      var _this2 = this;\n\n      var h = this.$createElement;\n      var icon = action.icon,\n          text = action.text,\n          disabled = action.disabled,\n          className = action.className;\n      return h(\"div\", {\n        \"attrs\": {\n          \"role\": \"menuitem\"\n        },\n        \"class\": [bem('action', {\n          disabled: disabled,\n          'with-icon': icon\n        }), className],\n        \"on\": {\n          \"click\": function click() {\n            return _this2.onClickAction(action, index);\n          }\n        }\n      }, [icon && h(Icon, {\n        \"attrs\": {\n          \"name\": icon\n        },\n        \"class\": bem('action-icon')\n      }), h(\"div\", {\n        \"class\": [bem('action-text'), BORDER_BOTTOM]\n      }, [text])]);\n    },\n    onToggle: function onToggle(value) {\n      this.$emit('input', value);\n    },\n    onClickWrapper: function onClickWrapper() {\n      if (this.trigger === 'click') {\n        this.onToggle(!this.value);\n      }\n    },\n    onTouchstart: function onTouchstart(event) {\n      event.stopPropagation();\n      this.$emit('touchstart', event);\n    },\n    onClickAction: function onClickAction(action, index) {\n      if (action.disabled) {\n        return;\n      }\n\n      this.$emit('select', action, index);\n\n      if (this.closeOnClickAction) {\n        this.$emit('input', false);\n      }\n    },\n    onClickOutside: function onClickOutside() {\n      this.$emit('input', false);\n    },\n    onOpen: function onOpen() {\n      this.$emit('open');\n    },\n\n    /* istanbul ignore next */\n    onOpened: function onOpened() {\n      this.$emit('opened');\n    },\n    onClose: function onClose() {\n      this.$emit('close');\n    },\n\n    /* istanbul ignore next */\n    onClosed: function onClosed() {\n      this.$emit('closed');\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"span\", {\n      \"ref\": \"wrapper\",\n      \"class\": bem('wrapper'),\n      \"on\": {\n        \"click\": this.onClickWrapper\n      }\n    }, [h(Popup, {\n      \"ref\": \"popover\",\n      \"attrs\": {\n        \"value\": this.value,\n        \"overlay\": this.overlay,\n        \"position\": null,\n        \"transition\": \"van-popover-zoom\",\n        \"lockScroll\": false,\n        \"getContainer\": this.getContainer\n      },\n      \"class\": bem([this.theme]),\n      \"on\": {\n        \"open\": this.onOpen,\n        \"close\": this.onClose,\n        \"input\": this.onToggle,\n        \"opened\": this.onOpened,\n        \"closed\": this.onClosed\n      },\n      \"nativeOn\": {\n        \"touchstart\": this.onTouchstart\n      }\n    }, [h(\"div\", {\n      \"class\": bem('arrow')\n    }), h(\"div\", {\n      \"class\": bem('content'),\n      \"attrs\": {\n        \"role\": \"menu\"\n      }\n    }, [this.slots('default') || this.actions.map(this.renderAction)])]), this.slots('reference')]);\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}