{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { bem } from './SkuRow';\nimport { createNamespace } from '../../utils';\nimport { isSkuChoosable } from '../utils/sku-helper';\nimport { ChildrenMixin } from '../../mixins/relation';\nimport Icon from '../../icon';\nimport Image from '../../image';\n\nvar _createNamespace = createNamespace('sku-row-item'),\n    createComponent = _createNamespace[0];\n\nexport default createComponent({\n  mixins: [ChildrenMixin('vanSkuRows')],\n  props: {\n    lazyLoad: Boolean,\n    skuValue: Object,\n    skuKeyStr: String,\n    skuEventBus: Object,\n    selectedSku: Object,\n    largeImageMode: Boolean,\n    disableSoldoutSku: Boolean,\n    skuList: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  computed: {\n    imgUrl: function imgUrl() {\n      var url = this.skuValue.imgUrl || this.skuValue.img_url;\n      return this.largeImageMode ? url || 'https://img01.yzcdn.cn/upload_files/2020/06/24/FmKWDg0bN9rMcTp9ne8MXiQWGtLn.png' : url;\n    },\n    choosable: function choosable() {\n      if (!this.disableSoldoutSku) {\n        return true;\n      }\n\n      return isSkuChoosable(this.skuList, this.selectedSku, {\n        key: this.skuKeyStr,\n        valueId: this.skuValue.id\n      });\n    }\n  },\n  methods: {\n    onSelect: function onSelect() {\n      if (this.choosable) {\n        this.skuEventBus.$emit('sku:select', _extends({}, this.skuValue, {\n          skuKeyStr: this.skuKeyStr\n        }));\n      }\n    },\n    onPreviewImg: function onPreviewImg(event) {\n      event.stopPropagation();\n      var skuValue = this.skuValue,\n          skuKeyStr = this.skuKeyStr;\n      this.skuEventBus.$emit('sku:previewImage', _extends({}, skuValue, {\n        ks: skuKeyStr,\n        imgUrl: skuValue.imgUrl || skuValue.img_url\n      }));\n    },\n    genImage: function genImage(classPrefix) {\n      var h = this.$createElement;\n\n      if (this.imgUrl) {\n        return h(Image, {\n          \"attrs\": {\n            \"fit\": \"cover\",\n            \"src\": this.imgUrl,\n            \"lazyLoad\": this.lazyLoad\n          },\n          \"class\": classPrefix + \"-img\"\n        });\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var choosed = this.skuValue.id === this.selectedSku[this.skuKeyStr];\n    var classPrefix = this.largeImageMode ? bem('image-item') : bem('item');\n    return h(\"span\", {\n      \"class\": [classPrefix, choosed ? classPrefix + \"--active\" : '', !this.choosable ? classPrefix + \"--disabled\" : ''],\n      \"on\": {\n        \"click\": this.onSelect\n      }\n    }, [this.genImage(classPrefix), h(\"div\", {\n      \"class\": classPrefix + \"-name\"\n    }, [this.largeImageMode ? h(\"span\", {\n      \"class\": {\n        'van-multi-ellipsis--l2': this.largeImageMode\n      }\n    }, [this.skuValue.name]) : this.skuValue.name]), this.largeImageMode && h(Icon, {\n      \"attrs\": {\n        \"name\": \"enlarge\"\n      },\n      \"class\": classPrefix + \"-img-icon\",\n      \"on\": {\n        \"click\": this.onPreviewImg\n      }\n    })]);\n  }\n});","map":{"version":3,"names":["_extends","bem","createNamespace","isSkuChoosable","ChildrenMixin","Icon","Image","_createNamespace","createComponent","mixins","props","lazyLoad","Boolean","skuValue","Object","skuKeyStr","String","skuEventBus","selectedSku","largeImageMode","disableSoldoutSku","skuList","type","Array","default","_default","computed","imgUrl","url","img_url","choosable","key","valueId","id","methods","onSelect","$emit","onPreviewImg","event","stopPropagation","ks","genImage","classPrefix","h","$createElement","render","arguments","choosed","name"],"sources":["C:/Users/小王/node_modules/vant/es/sku/components/SkuRowItem.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { bem } from './SkuRow';\nimport { createNamespace } from '../../utils';\nimport { isSkuChoosable } from '../utils/sku-helper';\nimport { ChildrenMixin } from '../../mixins/relation';\nimport Icon from '../../icon';\nimport Image from '../../image';\n\nvar _createNamespace = createNamespace('sku-row-item'),\n    createComponent = _createNamespace[0];\n\nexport default createComponent({\n  mixins: [ChildrenMixin('vanSkuRows')],\n  props: {\n    lazyLoad: Boolean,\n    skuValue: Object,\n    skuKeyStr: String,\n    skuEventBus: Object,\n    selectedSku: Object,\n    largeImageMode: Boolean,\n    disableSoldoutSku: Boolean,\n    skuList: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  computed: {\n    imgUrl: function imgUrl() {\n      var url = this.skuValue.imgUrl || this.skuValue.img_url;\n      return this.largeImageMode ? url || 'https://img01.yzcdn.cn/upload_files/2020/06/24/FmKWDg0bN9rMcTp9ne8MXiQWGtLn.png' : url;\n    },\n    choosable: function choosable() {\n      if (!this.disableSoldoutSku) {\n        return true;\n      }\n\n      return isSkuChoosable(this.skuList, this.selectedSku, {\n        key: this.skuKeyStr,\n        valueId: this.skuValue.id\n      });\n    }\n  },\n  methods: {\n    onSelect: function onSelect() {\n      if (this.choosable) {\n        this.skuEventBus.$emit('sku:select', _extends({}, this.skuValue, {\n          skuKeyStr: this.skuKeyStr\n        }));\n      }\n    },\n    onPreviewImg: function onPreviewImg(event) {\n      event.stopPropagation();\n      var skuValue = this.skuValue,\n          skuKeyStr = this.skuKeyStr;\n      this.skuEventBus.$emit('sku:previewImage', _extends({}, skuValue, {\n        ks: skuKeyStr,\n        imgUrl: skuValue.imgUrl || skuValue.img_url\n      }));\n    },\n    genImage: function genImage(classPrefix) {\n      var h = this.$createElement;\n\n      if (this.imgUrl) {\n        return h(Image, {\n          \"attrs\": {\n            \"fit\": \"cover\",\n            \"src\": this.imgUrl,\n            \"lazyLoad\": this.lazyLoad\n          },\n          \"class\": classPrefix + \"-img\"\n        });\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var choosed = this.skuValue.id === this.selectedSku[this.skuKeyStr];\n    var classPrefix = this.largeImageMode ? bem('image-item') : bem('item');\n    return h(\"span\", {\n      \"class\": [classPrefix, choosed ? classPrefix + \"--active\" : '', !this.choosable ? classPrefix + \"--disabled\" : ''],\n      \"on\": {\n        \"click\": this.onSelect\n      }\n    }, [this.genImage(classPrefix), h(\"div\", {\n      \"class\": classPrefix + \"-name\"\n    }, [this.largeImageMode ? h(\"span\", {\n      \"class\": {\n        'van-multi-ellipsis--l2': this.largeImageMode\n      }\n    }, [this.skuValue.name]) : this.skuValue.name]), this.largeImageMode && h(Icon, {\n      \"attrs\": {\n        \"name\": \"enlarge\"\n      },\n      \"class\": classPrefix + \"-img-icon\",\n      \"on\": {\n        \"click\": this.onPreviewImg\n      }\n    })]);\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}