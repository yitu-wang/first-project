{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.map.js\";\n// Utils\nimport { createNamespace, isDef } from '../utils';\nimport { getScroller } from '../utils/dom/scroll'; // Mixins\n\nimport { ParentMixin } from '../mixins/relation';\nimport { ClickOutsideMixin } from '../mixins/click-outside';\n\nvar _createNamespace = createNamespace('dropdown-menu'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ParentMixin('vanDropdownMenu'), ClickOutsideMixin({\n    event: 'click',\n    method: 'onClickOutside'\n  })],\n  props: {\n    zIndex: [Number, String],\n    activeColor: String,\n    overlay: {\n      type: Boolean,\n      default: true\n    },\n    duration: {\n      type: [Number, String],\n      default: 0.2\n    },\n    direction: {\n      type: String,\n      default: 'down'\n    },\n    closeOnClickOverlay: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      offset: 0\n    };\n  },\n  computed: {\n    scroller: function scroller() {\n      return getScroller(this.$el);\n    },\n    opened: function opened() {\n      return this.children.some(function (item) {\n        return item.showWrapper;\n      });\n    },\n    barStyle: function barStyle() {\n      if (this.opened && isDef(this.zIndex)) {\n        return {\n          zIndex: 1 + this.zIndex\n        };\n      }\n    }\n  },\n  methods: {\n    updateOffset: function updateOffset() {\n      if (!this.$refs.bar) {\n        return;\n      }\n\n      var rect = this.$refs.bar.getBoundingClientRect();\n\n      if (this.direction === 'down') {\n        this.offset = rect.bottom;\n      } else {\n        this.offset = window.innerHeight - rect.top;\n      }\n    },\n    toggleItem: function toggleItem(active) {\n      this.children.forEach(function (item, index) {\n        if (index === active) {\n          item.toggle();\n        } else if (item.showPopup) {\n          item.toggle(false, {\n            immediate: true\n          });\n        }\n      });\n    },\n    onClickOutside: function onClickOutside() {\n      this.children.forEach(function (item) {\n        item.toggle(false);\n      });\n    }\n  },\n  render: function render() {\n    var _this = this;\n\n    var h = arguments[0];\n    var Titles = this.children.map(function (item, index) {\n      return h(\"div\", {\n        \"attrs\": {\n          \"role\": \"button\",\n          \"tabindex\": item.disabled ? -1 : 0\n        },\n        \"class\": bem('item', {\n          disabled: item.disabled\n        }),\n        \"on\": {\n          \"click\": function click() {\n            if (!item.disabled) {\n              _this.toggleItem(index);\n            }\n          }\n        }\n      }, [h(\"span\", {\n        \"class\": [bem('title', {\n          active: item.showPopup,\n          down: item.showPopup === (_this.direction === 'down')\n        }), item.titleClass],\n        \"style\": {\n          color: item.showPopup ? _this.activeColor : ''\n        }\n      }, [h(\"div\", {\n        \"class\": \"van-ellipsis\"\n      }, [item.slots('title') || item.displayTitle])])]);\n    });\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"ref\": \"bar\",\n      \"style\": this.barStyle,\n      \"class\": bem('bar', {\n        opened: this.opened\n      })\n    }, [Titles]), this.slots('default')]);\n  }\n});","map":{"version":3,"names":["createNamespace","isDef","getScroller","ParentMixin","ClickOutsideMixin","_createNamespace","createComponent","bem","mixins","event","method","props","zIndex","Number","String","activeColor","overlay","type","Boolean","default","duration","direction","closeOnClickOverlay","data","offset","computed","scroller","$el","opened","children","some","item","showWrapper","barStyle","methods","updateOffset","$refs","bar","rect","getBoundingClientRect","bottom","window","innerHeight","top","toggleItem","active","forEach","index","toggle","showPopup","immediate","onClickOutside","render","_this","h","arguments","Titles","map","disabled","click","down","titleClass","color","slots","displayTitle"],"sources":["C:/Users/小王/node_modules/vant/es/dropdown-menu/index.js"],"sourcesContent":["// Utils\nimport { createNamespace, isDef } from '../utils';\nimport { getScroller } from '../utils/dom/scroll'; // Mixins\n\nimport { ParentMixin } from '../mixins/relation';\nimport { ClickOutsideMixin } from '../mixins/click-outside';\n\nvar _createNamespace = createNamespace('dropdown-menu'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ParentMixin('vanDropdownMenu'), ClickOutsideMixin({\n    event: 'click',\n    method: 'onClickOutside'\n  })],\n  props: {\n    zIndex: [Number, String],\n    activeColor: String,\n    overlay: {\n      type: Boolean,\n      default: true\n    },\n    duration: {\n      type: [Number, String],\n      default: 0.2\n    },\n    direction: {\n      type: String,\n      default: 'down'\n    },\n    closeOnClickOverlay: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      offset: 0\n    };\n  },\n  computed: {\n    scroller: function scroller() {\n      return getScroller(this.$el);\n    },\n    opened: function opened() {\n      return this.children.some(function (item) {\n        return item.showWrapper;\n      });\n    },\n    barStyle: function barStyle() {\n      if (this.opened && isDef(this.zIndex)) {\n        return {\n          zIndex: 1 + this.zIndex\n        };\n      }\n    }\n  },\n  methods: {\n    updateOffset: function updateOffset() {\n      if (!this.$refs.bar) {\n        return;\n      }\n\n      var rect = this.$refs.bar.getBoundingClientRect();\n\n      if (this.direction === 'down') {\n        this.offset = rect.bottom;\n      } else {\n        this.offset = window.innerHeight - rect.top;\n      }\n    },\n    toggleItem: function toggleItem(active) {\n      this.children.forEach(function (item, index) {\n        if (index === active) {\n          item.toggle();\n        } else if (item.showPopup) {\n          item.toggle(false, {\n            immediate: true\n          });\n        }\n      });\n    },\n    onClickOutside: function onClickOutside() {\n      this.children.forEach(function (item) {\n        item.toggle(false);\n      });\n    }\n  },\n  render: function render() {\n    var _this = this;\n\n    var h = arguments[0];\n    var Titles = this.children.map(function (item, index) {\n      return h(\"div\", {\n        \"attrs\": {\n          \"role\": \"button\",\n          \"tabindex\": item.disabled ? -1 : 0\n        },\n        \"class\": bem('item', {\n          disabled: item.disabled\n        }),\n        \"on\": {\n          \"click\": function click() {\n            if (!item.disabled) {\n              _this.toggleItem(index);\n            }\n          }\n        }\n      }, [h(\"span\", {\n        \"class\": [bem('title', {\n          active: item.showPopup,\n          down: item.showPopup === (_this.direction === 'down')\n        }), item.titleClass],\n        \"style\": {\n          color: item.showPopup ? _this.activeColor : ''\n        }\n      }, [h(\"div\", {\n        \"class\": \"van-ellipsis\"\n      }, [item.slots('title') || item.displayTitle])])]);\n    });\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"ref\": \"bar\",\n      \"style\": this.barStyle,\n      \"class\": bem('bar', {\n        opened: this.opened\n      })\n    }, [Titles]), this.slots('default')]);\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}