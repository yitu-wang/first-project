{"ast":null,"code":"import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nimport VueToast from './Toast';\nimport { isObject, isServer } from '../utils';\nimport { removeNode } from '../utils/dom/node';\nvar defaultOptions = {\n  icon: '',\n  type: 'text',\n  // @deprecated\n  mask: false,\n  value: true,\n  message: '',\n  className: '',\n  overlay: false,\n  onClose: null,\n  onOpened: null,\n  duration: 2000,\n  iconPrefix: undefined,\n  position: 'middle',\n  transition: 'van-fade',\n  forbidClick: false,\n  loadingType: undefined,\n  getContainer: 'body',\n  overlayStyle: null,\n  closeOnClick: false,\n  closeOnClickOverlay: false\n}; // default options of specific type\n\nvar defaultOptionsMap = {};\nvar queue = [];\nvar multiple = false;\n\nvar currentOptions = _extends({}, defaultOptions);\n\nfunction parseOptions(message) {\n  if (isObject(message)) {\n    return message;\n  }\n\n  return {\n    message: message\n  };\n}\n\nfunction isInDocument(element) {\n  return document.body.contains(element);\n}\n\nfunction createInstance() {\n  /* istanbul ignore if */\n  if (isServer) {\n    return {};\n  }\n\n  queue = queue.filter(function (item) {\n    return !item.$el.parentNode || isInDocument(item.$el);\n  });\n\n  if (!queue.length || multiple) {\n    var toast = new (Vue.extend(VueToast))({\n      el: document.createElement('div')\n    });\n    toast.$on('input', function (value) {\n      toast.value = value;\n    });\n    queue.push(toast);\n  }\n\n  return queue[queue.length - 1];\n} // transform toast options to popup props\n\n\nfunction transformOptions(options) {\n  return _extends({}, options, {\n    overlay: options.mask || options.overlay,\n    mask: undefined,\n    duration: undefined\n  });\n}\n\nfunction Toast(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var toast = createInstance(); // should add z-index if previous toast has not disappeared\n\n  if (toast.value) {\n    toast.updateZIndex();\n  }\n\n  options = parseOptions(options);\n  options = _extends({}, currentOptions, defaultOptionsMap[options.type || currentOptions.type], options);\n\n  if (process.env.NODE_ENV === 'development' && options.mask) {\n    console.warn('[Vant] Toast: \"mask\" option is deprecated, use \"overlay\" option instead.');\n  }\n\n  options.clear = function () {\n    toast.value = false;\n\n    if (options.onClose) {\n      options.onClose();\n      options.onClose = null;\n    }\n\n    if (multiple && !isServer) {\n      toast.$on('closed', function () {\n        clearTimeout(toast.timer);\n        queue = queue.filter(function (item) {\n          return item !== toast;\n        });\n        removeNode(toast.$el);\n        toast.$destroy();\n      });\n    }\n  };\n\n  _extends(toast, transformOptions(options));\n\n  clearTimeout(toast.timer);\n\n  if (options.duration > 0) {\n    toast.timer = setTimeout(function () {\n      toast.clear();\n    }, options.duration);\n  }\n\n  return toast;\n}\n\nvar createMethod = function createMethod(type) {\n  return function (options) {\n    return Toast(_extends({\n      type: type\n    }, parseOptions(options)));\n  };\n};\n\n['loading', 'success', 'fail'].forEach(function (method) {\n  Toast[method] = createMethod(method);\n});\n\nToast.clear = function (all) {\n  if (queue.length) {\n    if (all) {\n      queue.forEach(function (toast) {\n        toast.clear();\n      });\n      queue = [];\n    } else if (!multiple) {\n      queue[0].clear();\n    } else {\n      queue.shift().clear();\n    }\n  }\n};\n\nToast.setDefaultOptions = function (type, options) {\n  if (typeof type === 'string') {\n    defaultOptionsMap[type] = options;\n  } else {\n    _extends(currentOptions, type);\n  }\n};\n\nToast.resetDefaultOptions = function (type) {\n  if (typeof type === 'string') {\n    defaultOptionsMap[type] = null;\n  } else {\n    currentOptions = _extends({}, defaultOptions);\n    defaultOptionsMap = {};\n  }\n};\n\nToast.allowMultiple = function (value) {\n  if (value === void 0) {\n    value = true;\n  }\n\n  multiple = value;\n};\n\nToast.install = function () {\n  Vue.use(VueToast);\n};\n\nVue.prototype.$toast = Toast;\nexport default Toast;","map":{"version":3,"names":["_extends","Vue","VueToast","isObject","isServer","removeNode","defaultOptions","icon","type","mask","value","message","className","overlay","onClose","onOpened","duration","iconPrefix","undefined","position","transition","forbidClick","loadingType","getContainer","overlayStyle","closeOnClick","closeOnClickOverlay","defaultOptionsMap","queue","multiple","currentOptions","parseOptions","isInDocument","element","document","body","contains","createInstance","filter","item","$el","parentNode","length","toast","extend","el","createElement","$on","push","transformOptions","options","Toast","updateZIndex","process","env","NODE_ENV","console","warn","clear","clearTimeout","timer","$destroy","setTimeout","createMethod","forEach","method","all","shift","setDefaultOptions","resetDefaultOptions","allowMultiple","install","use","prototype","$toast"],"sources":["C:/Users/小王/node_modules/vant/es/toast/index.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nimport VueToast from './Toast';\nimport { isObject, isServer } from '../utils';\nimport { removeNode } from '../utils/dom/node';\nvar defaultOptions = {\n  icon: '',\n  type: 'text',\n  // @deprecated\n  mask: false,\n  value: true,\n  message: '',\n  className: '',\n  overlay: false,\n  onClose: null,\n  onOpened: null,\n  duration: 2000,\n  iconPrefix: undefined,\n  position: 'middle',\n  transition: 'van-fade',\n  forbidClick: false,\n  loadingType: undefined,\n  getContainer: 'body',\n  overlayStyle: null,\n  closeOnClick: false,\n  closeOnClickOverlay: false\n}; // default options of specific type\n\nvar defaultOptionsMap = {};\nvar queue = [];\nvar multiple = false;\n\nvar currentOptions = _extends({}, defaultOptions);\n\nfunction parseOptions(message) {\n  if (isObject(message)) {\n    return message;\n  }\n\n  return {\n    message: message\n  };\n}\n\nfunction isInDocument(element) {\n  return document.body.contains(element);\n}\n\nfunction createInstance() {\n  /* istanbul ignore if */\n  if (isServer) {\n    return {};\n  }\n\n  queue = queue.filter(function (item) {\n    return !item.$el.parentNode || isInDocument(item.$el);\n  });\n\n  if (!queue.length || multiple) {\n    var toast = new (Vue.extend(VueToast))({\n      el: document.createElement('div')\n    });\n    toast.$on('input', function (value) {\n      toast.value = value;\n    });\n    queue.push(toast);\n  }\n\n  return queue[queue.length - 1];\n} // transform toast options to popup props\n\n\nfunction transformOptions(options) {\n  return _extends({}, options, {\n    overlay: options.mask || options.overlay,\n    mask: undefined,\n    duration: undefined\n  });\n}\n\nfunction Toast(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var toast = createInstance(); // should add z-index if previous toast has not disappeared\n\n  if (toast.value) {\n    toast.updateZIndex();\n  }\n\n  options = parseOptions(options);\n  options = _extends({}, currentOptions, defaultOptionsMap[options.type || currentOptions.type], options);\n\n  if (process.env.NODE_ENV === 'development' && options.mask) {\n    console.warn('[Vant] Toast: \"mask\" option is deprecated, use \"overlay\" option instead.');\n  }\n\n  options.clear = function () {\n    toast.value = false;\n\n    if (options.onClose) {\n      options.onClose();\n      options.onClose = null;\n    }\n\n    if (multiple && !isServer) {\n      toast.$on('closed', function () {\n        clearTimeout(toast.timer);\n        queue = queue.filter(function (item) {\n          return item !== toast;\n        });\n        removeNode(toast.$el);\n        toast.$destroy();\n      });\n    }\n  };\n\n  _extends(toast, transformOptions(options));\n\n  clearTimeout(toast.timer);\n\n  if (options.duration > 0) {\n    toast.timer = setTimeout(function () {\n      toast.clear();\n    }, options.duration);\n  }\n\n  return toast;\n}\n\nvar createMethod = function createMethod(type) {\n  return function (options) {\n    return Toast(_extends({\n      type: type\n    }, parseOptions(options)));\n  };\n};\n\n['loading', 'success', 'fail'].forEach(function (method) {\n  Toast[method] = createMethod(method);\n});\n\nToast.clear = function (all) {\n  if (queue.length) {\n    if (all) {\n      queue.forEach(function (toast) {\n        toast.clear();\n      });\n      queue = [];\n    } else if (!multiple) {\n      queue[0].clear();\n    } else {\n      queue.shift().clear();\n    }\n  }\n};\n\nToast.setDefaultOptions = function (type, options) {\n  if (typeof type === 'string') {\n    defaultOptionsMap[type] = options;\n  } else {\n    _extends(currentOptions, type);\n  }\n};\n\nToast.resetDefaultOptions = function (type) {\n  if (typeof type === 'string') {\n    defaultOptionsMap[type] = null;\n  } else {\n    currentOptions = _extends({}, defaultOptions);\n    defaultOptionsMap = {};\n  }\n};\n\nToast.allowMultiple = function (value) {\n  if (value === void 0) {\n    value = true;\n  }\n\n  multiple = value;\n};\n\nToast.install = function () {\n  Vue.use(VueToast);\n};\n\nVue.prototype.$toast = Toast;\nexport default Toast;"],"mappings":"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"},"metadata":{},"sourceType":"module"}