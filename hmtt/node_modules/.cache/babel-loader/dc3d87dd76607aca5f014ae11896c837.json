{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\"; // Utils\n\nimport { createNamespace } from '../../utils';\nimport { inherit } from '../../utils/functional';\nimport { BORDER_BOTTOM } from '../../utils/constant'; // Components\n\nimport Image from '../../image'; // Types\n\nvar _createNamespace = createNamespace('sku-header'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction getSkuImgValue(sku, selectedSku) {\n  var imgValue;\n  sku.tree.some(function (item) {\n    var id = selectedSku[item.k_s];\n\n    if (id && item.v) {\n      var matchedSku = item.v.filter(function (skuValue) {\n        return skuValue.id === id;\n      })[0] || {};\n      var img = matchedSku.previewImgUrl || matchedSku.imgUrl || matchedSku.img_url;\n\n      if (img) {\n        imgValue = _extends({}, matchedSku, {\n          ks: item.k_s,\n          imgUrl: img\n        });\n        return true;\n      }\n    }\n\n    return false;\n  });\n  return imgValue;\n}\n\nfunction SkuHeader(h, props, slots, ctx) {\n  var _slots$skuHeaderIma;\n\n  var sku = props.sku,\n      goods = props.goods,\n      skuEventBus = props.skuEventBus,\n      selectedSku = props.selectedSku,\n      _props$showHeaderImag = props.showHeaderImage,\n      showHeaderImage = _props$showHeaderImag === void 0 ? true : _props$showHeaderImag;\n  var selectedValue = getSkuImgValue(sku, selectedSku);\n  var imgUrl = selectedValue ? selectedValue.imgUrl : goods.picture;\n\n  var previewImage = function previewImage() {\n    skuEventBus.$emit('sku:previewImage', selectedValue);\n  };\n\n  return h(\"div\", _mergeJSXProps([{\n    \"class\": [bem(), BORDER_BOTTOM]\n  }, inherit(ctx)]), [showHeaderImage && h(Image, {\n    \"attrs\": {\n      \"fit\": \"cover\",\n      \"src\": imgUrl\n    },\n    \"class\": bem('img-wrap'),\n    \"on\": {\n      \"click\": previewImage\n    }\n  }, [(_slots$skuHeaderIma = slots['sku-header-image-extra']) == null ? void 0 : _slots$skuHeaderIma.call(slots)]), h(\"div\", {\n    \"class\": bem('goods-info')\n  }, [slots.default == null ? void 0 : slots.default()])]);\n}\n\nSkuHeader.props = {\n  sku: Object,\n  goods: Object,\n  skuEventBus: Object,\n  selectedSku: Object,\n  showHeaderImage: Boolean\n};\nexport default createComponent(SkuHeader);","map":{"version":3,"names":["_mergeJSXProps","_extends","createNamespace","inherit","BORDER_BOTTOM","Image","_createNamespace","createComponent","bem","getSkuImgValue","sku","selectedSku","imgValue","tree","some","item","id","k_s","v","matchedSku","filter","skuValue","img","previewImgUrl","imgUrl","img_url","ks","SkuHeader","h","props","slots","ctx","_slots$skuHeaderIma","goods","skuEventBus","_props$showHeaderImag","showHeaderImage","selectedValue","picture","previewImage","$emit","call","default","Object","Boolean"],"sources":["C:/Users/小王/node_modules/vant/es/sku/components/SkuHeader.js"],"sourcesContent":["import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n// Utils\nimport { createNamespace } from '../../utils';\nimport { inherit } from '../../utils/functional';\nimport { BORDER_BOTTOM } from '../../utils/constant'; // Components\n\nimport Image from '../../image'; // Types\n\nvar _createNamespace = createNamespace('sku-header'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction getSkuImgValue(sku, selectedSku) {\n  var imgValue;\n  sku.tree.some(function (item) {\n    var id = selectedSku[item.k_s];\n\n    if (id && item.v) {\n      var matchedSku = item.v.filter(function (skuValue) {\n        return skuValue.id === id;\n      })[0] || {};\n      var img = matchedSku.previewImgUrl || matchedSku.imgUrl || matchedSku.img_url;\n\n      if (img) {\n        imgValue = _extends({}, matchedSku, {\n          ks: item.k_s,\n          imgUrl: img\n        });\n        return true;\n      }\n    }\n\n    return false;\n  });\n  return imgValue;\n}\n\nfunction SkuHeader(h, props, slots, ctx) {\n  var _slots$skuHeaderIma;\n\n  var sku = props.sku,\n      goods = props.goods,\n      skuEventBus = props.skuEventBus,\n      selectedSku = props.selectedSku,\n      _props$showHeaderImag = props.showHeaderImage,\n      showHeaderImage = _props$showHeaderImag === void 0 ? true : _props$showHeaderImag;\n  var selectedValue = getSkuImgValue(sku, selectedSku);\n  var imgUrl = selectedValue ? selectedValue.imgUrl : goods.picture;\n\n  var previewImage = function previewImage() {\n    skuEventBus.$emit('sku:previewImage', selectedValue);\n  };\n\n  return h(\"div\", _mergeJSXProps([{\n    \"class\": [bem(), BORDER_BOTTOM]\n  }, inherit(ctx)]), [showHeaderImage && h(Image, {\n    \"attrs\": {\n      \"fit\": \"cover\",\n      \"src\": imgUrl\n    },\n    \"class\": bem('img-wrap'),\n    \"on\": {\n      \"click\": previewImage\n    }\n  }, [(_slots$skuHeaderIma = slots['sku-header-image-extra']) == null ? void 0 : _slots$skuHeaderIma.call(slots)]), h(\"div\", {\n    \"class\": bem('goods-info')\n  }, [slots.default == null ? void 0 : slots.default()])]);\n}\n\nSkuHeader.props = {\n  sku: Object,\n  goods: Object,\n  skuEventBus: Object,\n  selectedSku: Object,\n  showHeaderImage: Boolean\n};\nexport default createComponent(SkuHeader);"],"mappings":"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"},"metadata":{},"sourceType":"module"}