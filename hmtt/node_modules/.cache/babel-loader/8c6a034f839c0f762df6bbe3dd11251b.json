{"ast":null,"code":"import { createNamespace } from '../utils';\nimport { ChildrenMixin } from '../mixins/relation';\nimport { BORDER_BOTTOM } from '../utils/constant';\nimport { getScrollTop, getRootScrollTop } from '../utils/dom/scroll';\n\nvar _createNamespace = createNamespace('index-anchor'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ChildrenMixin('vanIndexBar', {\n    indexKey: 'childrenIndex'\n  })],\n  props: {\n    index: [Number, String]\n  },\n  data: function data() {\n    return {\n      top: 0,\n      left: null,\n      rect: {\n        top: 0,\n        height: 0\n      },\n      width: null,\n      active: false\n    };\n  },\n  computed: {\n    sticky: function sticky() {\n      return this.active && this.parent.sticky;\n    },\n    anchorStyle: function anchorStyle() {\n      if (this.sticky) {\n        return {\n          zIndex: \"\" + this.parent.zIndex,\n          left: this.left ? this.left + \"px\" : null,\n          width: this.width ? this.width + \"px\" : null,\n          transform: \"translate3d(0, \" + this.top + \"px, 0)\",\n          color: this.parent.highlightColor\n        };\n      }\n    }\n  },\n  mounted: function mounted() {\n    var rect = this.$el.getBoundingClientRect();\n    this.rect.height = rect.height;\n  },\n  methods: {\n    scrollIntoView: function scrollIntoView() {\n      this.$el.scrollIntoView();\n    },\n    getRect: function getRect(scroller, scrollerRect) {\n      var el = this.$el;\n      var elRect = el.getBoundingClientRect();\n      this.rect.height = elRect.height;\n\n      if (scroller === window || scroller === document.body) {\n        this.rect.top = elRect.top + getRootScrollTop();\n      } else {\n        this.rect.top = elRect.top + getScrollTop(scroller) - scrollerRect.top;\n      }\n\n      return this.rect;\n    }\n  },\n  render: function render() {\n    var _ref;\n\n    var h = arguments[0];\n    var sticky = this.sticky;\n    return h(\"div\", {\n      \"style\": {\n        height: sticky ? this.rect.height + \"px\" : null\n      }\n    }, [h(\"div\", {\n      \"style\": this.anchorStyle,\n      \"class\": [bem({\n        sticky: sticky\n      }), (_ref = {}, _ref[BORDER_BOTTOM] = sticky, _ref)]\n    }, [this.slots('default') || this.index])]);\n  }\n});","map":{"version":3,"names":["createNamespace","ChildrenMixin","BORDER_BOTTOM","getScrollTop","getRootScrollTop","_createNamespace","createComponent","bem","mixins","indexKey","props","index","Number","String","data","top","left","rect","height","width","active","computed","sticky","parent","anchorStyle","zIndex","transform","color","highlightColor","mounted","$el","getBoundingClientRect","methods","scrollIntoView","getRect","scroller","scrollerRect","el","elRect","window","document","body","render","_ref","h","arguments","slots"],"sources":["C:/Users/小王/node_modules/vant/es/index-anchor/index.js"],"sourcesContent":["import { createNamespace } from '../utils';\nimport { ChildrenMixin } from '../mixins/relation';\nimport { BORDER_BOTTOM } from '../utils/constant';\nimport { getScrollTop, getRootScrollTop } from '../utils/dom/scroll';\n\nvar _createNamespace = createNamespace('index-anchor'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ChildrenMixin('vanIndexBar', {\n    indexKey: 'childrenIndex'\n  })],\n  props: {\n    index: [Number, String]\n  },\n  data: function data() {\n    return {\n      top: 0,\n      left: null,\n      rect: {\n        top: 0,\n        height: 0\n      },\n      width: null,\n      active: false\n    };\n  },\n  computed: {\n    sticky: function sticky() {\n      return this.active && this.parent.sticky;\n    },\n    anchorStyle: function anchorStyle() {\n      if (this.sticky) {\n        return {\n          zIndex: \"\" + this.parent.zIndex,\n          left: this.left ? this.left + \"px\" : null,\n          width: this.width ? this.width + \"px\" : null,\n          transform: \"translate3d(0, \" + this.top + \"px, 0)\",\n          color: this.parent.highlightColor\n        };\n      }\n    }\n  },\n  mounted: function mounted() {\n    var rect = this.$el.getBoundingClientRect();\n    this.rect.height = rect.height;\n  },\n  methods: {\n    scrollIntoView: function scrollIntoView() {\n      this.$el.scrollIntoView();\n    },\n    getRect: function getRect(scroller, scrollerRect) {\n      var el = this.$el;\n      var elRect = el.getBoundingClientRect();\n      this.rect.height = elRect.height;\n\n      if (scroller === window || scroller === document.body) {\n        this.rect.top = elRect.top + getRootScrollTop();\n      } else {\n        this.rect.top = elRect.top + getScrollTop(scroller) - scrollerRect.top;\n      }\n\n      return this.rect;\n    }\n  },\n  render: function render() {\n    var _ref;\n\n    var h = arguments[0];\n    var sticky = this.sticky;\n    return h(\"div\", {\n      \"style\": {\n        height: sticky ? this.rect.height + \"px\" : null\n      }\n    }, [h(\"div\", {\n      \"style\": this.anchorStyle,\n      \"class\": [bem({\n        sticky: sticky\n      }), (_ref = {}, _ref[BORDER_BOTTOM] = sticky, _ref)]\n    }, [this.slots('default') || this.index])]);\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}