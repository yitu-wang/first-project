{"ast":null,"code":"import { createNamespace } from '../utils';\nimport { BORDER_TOP_BOTTOM } from '../utils/constant';\nimport { callInterceptor } from '../utils/interceptor';\nimport { ParentMixin } from '../mixins/relation';\n\nvar _createNamespace = createNamespace('tabbar'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ParentMixin('vanTabbar')],\n  props: {\n    route: Boolean,\n    zIndex: [Number, String],\n    placeholder: Boolean,\n    activeColor: String,\n    beforeChange: Function,\n    inactiveColor: String,\n    value: {\n      type: [Number, String],\n      default: 0\n    },\n    border: {\n      type: Boolean,\n      default: true\n    },\n    fixed: {\n      type: Boolean,\n      default: true\n    },\n    safeAreaInsetBottom: {\n      type: Boolean,\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      height: null\n    };\n  },\n  computed: {\n    fit: function fit() {\n      if (this.safeAreaInsetBottom !== null) {\n        return this.safeAreaInsetBottom;\n      } // enable safe-area-inset-bottom by default when fixed\n\n\n      return this.fixed;\n    }\n  },\n  watch: {\n    value: 'setActiveItem',\n    children: 'setActiveItem'\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.placeholder && this.fixed) {\n      var setHeight = function setHeight() {\n        _this.height = _this.$refs.tabbar.getBoundingClientRect().height;\n      };\n\n      setHeight(); // https://github.com/youzan/vant/issues/10131\n\n      setTimeout(setHeight, 100);\n    }\n  },\n  methods: {\n    setActiveItem: function setActiveItem() {\n      var _this2 = this;\n\n      this.children.forEach(function (item, index) {\n        item.nameMatched = item.name === _this2.value || index === _this2.value;\n      });\n    },\n    triggerChange: function triggerChange(active, afterChange) {\n      var _this3 = this;\n\n      callInterceptor({\n        interceptor: this.beforeChange,\n        args: [active],\n        done: function done() {\n          _this3.$emit('input', active);\n\n          _this3.$emit('change', active);\n\n          afterChange();\n        }\n      });\n    },\n    genTabbar: function genTabbar() {\n      var _ref;\n\n      var h = this.$createElement;\n      return h(\"div\", {\n        \"ref\": \"tabbar\",\n        \"style\": {\n          zIndex: this.zIndex\n        },\n        \"class\": [(_ref = {}, _ref[BORDER_TOP_BOTTOM] = this.border, _ref), bem({\n          unfit: !this.fit,\n          fixed: this.fixed\n        })]\n      }, [this.slots()]);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n\n    if (this.placeholder && this.fixed) {\n      return h(\"div\", {\n        \"class\": bem('placeholder'),\n        \"style\": {\n          height: this.height + \"px\"\n        }\n      }, [this.genTabbar()]);\n    }\n\n    return this.genTabbar();\n  }\n});","map":{"version":3,"names":["createNamespace","BORDER_TOP_BOTTOM","callInterceptor","ParentMixin","_createNamespace","createComponent","bem","mixins","props","route","Boolean","zIndex","Number","String","placeholder","activeColor","beforeChange","Function","inactiveColor","value","type","default","border","fixed","safeAreaInsetBottom","data","height","computed","fit","watch","children","mounted","_this","setHeight","$refs","tabbar","getBoundingClientRect","setTimeout","methods","setActiveItem","_this2","forEach","item","index","nameMatched","name","triggerChange","active","afterChange","_this3","interceptor","args","done","$emit","genTabbar","_ref","h","$createElement","unfit","slots","render","arguments"],"sources":["C:/Users/小王/node_modules/vant/es/tabbar/index.js"],"sourcesContent":["import { createNamespace } from '../utils';\nimport { BORDER_TOP_BOTTOM } from '../utils/constant';\nimport { callInterceptor } from '../utils/interceptor';\nimport { ParentMixin } from '../mixins/relation';\n\nvar _createNamespace = createNamespace('tabbar'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ParentMixin('vanTabbar')],\n  props: {\n    route: Boolean,\n    zIndex: [Number, String],\n    placeholder: Boolean,\n    activeColor: String,\n    beforeChange: Function,\n    inactiveColor: String,\n    value: {\n      type: [Number, String],\n      default: 0\n    },\n    border: {\n      type: Boolean,\n      default: true\n    },\n    fixed: {\n      type: Boolean,\n      default: true\n    },\n    safeAreaInsetBottom: {\n      type: Boolean,\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      height: null\n    };\n  },\n  computed: {\n    fit: function fit() {\n      if (this.safeAreaInsetBottom !== null) {\n        return this.safeAreaInsetBottom;\n      } // enable safe-area-inset-bottom by default when fixed\n\n\n      return this.fixed;\n    }\n  },\n  watch: {\n    value: 'setActiveItem',\n    children: 'setActiveItem'\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.placeholder && this.fixed) {\n      var setHeight = function setHeight() {\n        _this.height = _this.$refs.tabbar.getBoundingClientRect().height;\n      };\n\n      setHeight(); // https://github.com/youzan/vant/issues/10131\n\n      setTimeout(setHeight, 100);\n    }\n  },\n  methods: {\n    setActiveItem: function setActiveItem() {\n      var _this2 = this;\n\n      this.children.forEach(function (item, index) {\n        item.nameMatched = item.name === _this2.value || index === _this2.value;\n      });\n    },\n    triggerChange: function triggerChange(active, afterChange) {\n      var _this3 = this;\n\n      callInterceptor({\n        interceptor: this.beforeChange,\n        args: [active],\n        done: function done() {\n          _this3.$emit('input', active);\n\n          _this3.$emit('change', active);\n\n          afterChange();\n        }\n      });\n    },\n    genTabbar: function genTabbar() {\n      var _ref;\n\n      var h = this.$createElement;\n      return h(\"div\", {\n        \"ref\": \"tabbar\",\n        \"style\": {\n          zIndex: this.zIndex\n        },\n        \"class\": [(_ref = {}, _ref[BORDER_TOP_BOTTOM] = this.border, _ref), bem({\n          unfit: !this.fit,\n          fixed: this.fixed\n        })]\n      }, [this.slots()]);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n\n    if (this.placeholder && this.fixed) {\n      return h(\"div\", {\n        \"class\": bem('placeholder'),\n        \"style\": {\n          height: this.height + \"px\"\n        }\n      }, [this.genTabbar()]);\n    }\n\n    return this.genTabbar();\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}