{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.find.js\";\n// Utils\nimport { createNamespace } from '../../utils';\nimport { BORDER_BOTTOM } from '../../utils/constant'; // Mixins\n\nimport { ParentMixin } from '../../mixins/relation';\nimport { BindEventMixin } from '../../mixins/bind-event';\n\nvar _createNamespace = createNamespace('sku-row'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nexport { bem };\nexport default createComponent({\n  mixins: [ParentMixin('vanSkuRows'), BindEventMixin(function (bind) {\n    if (this.scrollable && this.$refs.scroller) {\n      bind(this.$refs.scroller, 'scroll', this.onScroll);\n    }\n  })],\n  props: {\n    skuRow: Object\n  },\n  data: function data() {\n    return {\n      progress: 0\n    };\n  },\n  computed: {\n    scrollable: function scrollable() {\n      return this.skuRow.largeImageMode && this.skuRow.v.length > 6;\n    }\n  },\n  methods: {\n    onScroll: function onScroll() {\n      var _this$$refs = this.$refs,\n          scroller = _this$$refs.scroller,\n          row = _this$$refs.row;\n      var distance = row.offsetWidth - scroller.offsetWidth;\n      this.progress = scroller.scrollLeft / distance;\n    },\n    genTitle: function genTitle() {\n      var h = this.$createElement;\n      return h(\"div\", {\n        \"class\": bem('title')\n      }, [this.skuRow.k, this.skuRow.is_multiple && h(\"span\", {\n        \"class\": bem('title-multiple')\n      }, [\"\\uFF08\", t('multiple'), \"\\uFF09\"])]);\n    },\n    genIndicator: function genIndicator() {\n      var h = this.$createElement;\n\n      if (this.scrollable) {\n        var style = {\n          transform: \"translate3d(\" + this.progress * 20 + \"px, 0, 0)\"\n        };\n        return h(\"div\", {\n          \"class\": bem('indicator-wrapper')\n        }, [h(\"div\", {\n          \"class\": bem('indicator')\n        }, [h(\"div\", {\n          \"class\": bem('indicator-slider'),\n          \"style\": style\n        })])]);\n      }\n    },\n    genContent: function genContent() {\n      var h = this.$createElement;\n      var nodes = this.slots();\n\n      if (this.skuRow.largeImageMode) {\n        var top = [];\n        var bottom = [];\n        nodes.forEach(function (node, index) {\n          var group = Math.floor(index / 3) % 2 === 0 ? top : bottom;\n          group.push(node);\n        });\n        return h(\"div\", {\n          \"class\": bem('scroller'),\n          \"ref\": \"scroller\"\n        }, [h(\"div\", {\n          \"class\": bem('row'),\n          \"ref\": \"row\"\n        }, [top]), bottom.length ? h(\"div\", {\n          \"class\": bem('row')\n        }, [bottom]) : null]);\n      }\n\n      return nodes;\n    },\n    centerItem: function centerItem(selectSkuId) {\n      if (!this.skuRow.largeImageMode || !selectSkuId) {\n        return;\n      }\n\n      var _this$children = this.children,\n          children = _this$children === void 0 ? [] : _this$children;\n      var _this$$refs2 = this.$refs,\n          scroller = _this$$refs2.scroller,\n          row = _this$$refs2.row;\n      var child = children.find(function (it) {\n        return +it.skuValue.id === +selectSkuId;\n      });\n\n      if (scroller && row && child && child.$el) {\n        var target = child.$el;\n        var to = target.offsetLeft - (scroller.offsetWidth - target.offsetWidth) / 2;\n        scroller.scrollLeft = to;\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": [bem(), BORDER_BOTTOM]\n    }, [this.genTitle(), this.genContent(), this.genIndicator()]);\n  }\n});","map":{"version":3,"names":["createNamespace","BORDER_BOTTOM","ParentMixin","BindEventMixin","_createNamespace","createComponent","bem","t","mixins","bind","scrollable","$refs","scroller","onScroll","props","skuRow","Object","data","progress","computed","largeImageMode","v","length","methods","_this$$refs","row","distance","offsetWidth","scrollLeft","genTitle","h","$createElement","k","is_multiple","genIndicator","style","transform","genContent","nodes","slots","top","bottom","forEach","node","index","group","Math","floor","push","centerItem","selectSkuId","_this$children","children","_this$$refs2","child","find","it","skuValue","id","$el","target","to","offsetLeft","render","arguments"],"sources":["C:/Users/小王/node_modules/vant/es/sku/components/SkuRow.js"],"sourcesContent":["// Utils\nimport { createNamespace } from '../../utils';\nimport { BORDER_BOTTOM } from '../../utils/constant'; // Mixins\n\nimport { ParentMixin } from '../../mixins/relation';\nimport { BindEventMixin } from '../../mixins/bind-event';\n\nvar _createNamespace = createNamespace('sku-row'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nexport { bem };\nexport default createComponent({\n  mixins: [ParentMixin('vanSkuRows'), BindEventMixin(function (bind) {\n    if (this.scrollable && this.$refs.scroller) {\n      bind(this.$refs.scroller, 'scroll', this.onScroll);\n    }\n  })],\n  props: {\n    skuRow: Object\n  },\n  data: function data() {\n    return {\n      progress: 0\n    };\n  },\n  computed: {\n    scrollable: function scrollable() {\n      return this.skuRow.largeImageMode && this.skuRow.v.length > 6;\n    }\n  },\n  methods: {\n    onScroll: function onScroll() {\n      var _this$$refs = this.$refs,\n          scroller = _this$$refs.scroller,\n          row = _this$$refs.row;\n      var distance = row.offsetWidth - scroller.offsetWidth;\n      this.progress = scroller.scrollLeft / distance;\n    },\n    genTitle: function genTitle() {\n      var h = this.$createElement;\n      return h(\"div\", {\n        \"class\": bem('title')\n      }, [this.skuRow.k, this.skuRow.is_multiple && h(\"span\", {\n        \"class\": bem('title-multiple')\n      }, [\"\\uFF08\", t('multiple'), \"\\uFF09\"])]);\n    },\n    genIndicator: function genIndicator() {\n      var h = this.$createElement;\n\n      if (this.scrollable) {\n        var style = {\n          transform: \"translate3d(\" + this.progress * 20 + \"px, 0, 0)\"\n        };\n        return h(\"div\", {\n          \"class\": bem('indicator-wrapper')\n        }, [h(\"div\", {\n          \"class\": bem('indicator')\n        }, [h(\"div\", {\n          \"class\": bem('indicator-slider'),\n          \"style\": style\n        })])]);\n      }\n    },\n    genContent: function genContent() {\n      var h = this.$createElement;\n      var nodes = this.slots();\n\n      if (this.skuRow.largeImageMode) {\n        var top = [];\n        var bottom = [];\n        nodes.forEach(function (node, index) {\n          var group = Math.floor(index / 3) % 2 === 0 ? top : bottom;\n          group.push(node);\n        });\n        return h(\"div\", {\n          \"class\": bem('scroller'),\n          \"ref\": \"scroller\"\n        }, [h(\"div\", {\n          \"class\": bem('row'),\n          \"ref\": \"row\"\n        }, [top]), bottom.length ? h(\"div\", {\n          \"class\": bem('row')\n        }, [bottom]) : null]);\n      }\n\n      return nodes;\n    },\n    centerItem: function centerItem(selectSkuId) {\n      if (!this.skuRow.largeImageMode || !selectSkuId) {\n        return;\n      }\n\n      var _this$children = this.children,\n          children = _this$children === void 0 ? [] : _this$children;\n      var _this$$refs2 = this.$refs,\n          scroller = _this$$refs2.scroller,\n          row = _this$$refs2.row;\n      var child = children.find(function (it) {\n        return +it.skuValue.id === +selectSkuId;\n      });\n\n      if (scroller && row && child && child.$el) {\n        var target = child.$el;\n        var to = target.offsetLeft - (scroller.offsetWidth - target.offsetWidth) / 2;\n        scroller.scrollLeft = to;\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": [bem(), BORDER_BOTTOM]\n    }, [this.genTitle(), this.genContent(), this.genIndicator()]);\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}