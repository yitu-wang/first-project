{"ast":null,"code":"import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.map.js\";\n// Utils\nimport { createNamespace } from '../utils';\nimport { on, off } from '../utils/dom/event'; // Mixins\n\nimport { PortalMixin } from '../mixins/portal';\nimport { ChildrenMixin } from '../mixins/relation'; // Components\n\nimport Cell from '../cell';\nimport Icon from '../icon';\nimport Popup from '../popup';\n\nvar _createNamespace = createNamespace('dropdown-item'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [PortalMixin({\n    ref: 'wrapper'\n  }), ChildrenMixin('vanDropdownMenu')],\n  props: {\n    value: null,\n    title: String,\n    disabled: Boolean,\n    titleClass: String,\n    options: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    lazyRender: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      transition: true,\n      showPopup: false,\n      showWrapper: false\n    };\n  },\n  computed: {\n    displayTitle: function displayTitle() {\n      var _this = this;\n\n      if (this.title) {\n        return this.title;\n      }\n\n      var match = this.options.filter(function (option) {\n        return option.value === _this.value;\n      });\n      return match.length ? match[0].text : '';\n    }\n  },\n  watch: {\n    showPopup: function showPopup(val) {\n      this.bindScroll(val);\n    }\n  },\n  beforeCreate: function beforeCreate() {\n    var _this2 = this;\n\n    var createEmitter = function createEmitter(eventName) {\n      return function () {\n        return _this2.$emit(eventName);\n      };\n    };\n\n    this.onOpen = createEmitter('open');\n    this.onClose = createEmitter('close');\n    this.onOpened = createEmitter('opened');\n  },\n  methods: {\n    // @exposed-api\n    toggle: function toggle(show, options) {\n      if (show === void 0) {\n        show = !this.showPopup;\n      }\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      if (show === this.showPopup) {\n        return;\n      }\n\n      this.transition = !options.immediate;\n      this.showPopup = show;\n\n      if (show) {\n        this.parent.updateOffset();\n        this.showWrapper = true;\n      }\n    },\n    bindScroll: function bindScroll(bind) {\n      var scroller = this.parent.scroller;\n      var action = bind ? on : off;\n      action(scroller, 'scroll', this.onScroll, true);\n    },\n    onScroll: function onScroll() {\n      this.parent.updateOffset();\n    },\n    onClickWrapper: function onClickWrapper(event) {\n      // prevent being identified as clicking outside and closed when use get-contaienr\n      if (this.getContainer) {\n        event.stopPropagation();\n      }\n    }\n  },\n  render: function render() {\n    var _this3 = this;\n\n    var h = arguments[0];\n    var _this$parent = this.parent,\n        zIndex = _this$parent.zIndex,\n        offset = _this$parent.offset,\n        overlay = _this$parent.overlay,\n        duration = _this$parent.duration,\n        direction = _this$parent.direction,\n        activeColor = _this$parent.activeColor,\n        closeOnClickOverlay = _this$parent.closeOnClickOverlay;\n    var Options = this.options.map(function (option) {\n      var active = option.value === _this3.value;\n      return h(Cell, {\n        \"attrs\": {\n          \"clickable\": true,\n          \"icon\": option.icon,\n          \"title\": option.text\n        },\n        \"key\": option.value,\n        \"class\": bem('option', {\n          active: active\n        }),\n        \"style\": {\n          color: active ? activeColor : ''\n        },\n        \"on\": {\n          \"click\": function click() {\n            _this3.showPopup = false;\n\n            if (option.value !== _this3.value) {\n              _this3.$emit('input', option.value);\n\n              _this3.$emit('change', option.value);\n            }\n          }\n        }\n      }, [active && h(Icon, {\n        \"class\": bem('icon'),\n        \"attrs\": {\n          \"color\": activeColor,\n          \"name\": \"success\"\n        }\n      })]);\n    });\n    var style = {\n      zIndex: zIndex\n    };\n\n    if (direction === 'down') {\n      style.top = offset + \"px\";\n    } else {\n      style.bottom = offset + \"px\";\n    }\n\n    return h(\"div\", [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.showWrapper\n      }],\n      \"ref\": \"wrapper\",\n      \"style\": style,\n      \"class\": bem([direction]),\n      \"on\": {\n        \"click\": this.onClickWrapper\n      }\n    }, [h(Popup, {\n      \"attrs\": {\n        \"overlay\": overlay,\n        \"position\": direction === 'down' ? 'top' : 'bottom',\n        \"duration\": this.transition ? duration : 0,\n        \"lazyRender\": this.lazyRender,\n        \"overlayStyle\": {\n          position: 'absolute'\n        },\n        \"closeOnClickOverlay\": closeOnClickOverlay\n      },\n      \"class\": bem('content'),\n      \"on\": {\n        \"open\": this.onOpen,\n        \"close\": this.onClose,\n        \"opened\": this.onOpened,\n        \"closed\": function closed() {\n          _this3.showWrapper = false;\n\n          _this3.$emit('closed');\n        }\n      },\n      \"model\": {\n        value: _this3.showPopup,\n        callback: function callback($$v) {\n          _this3.showPopup = $$v;\n        }\n      }\n    }, [Options, this.slots('default')])])]);\n  }\n});","map":{"version":3,"names":["createNamespace","on","off","PortalMixin","ChildrenMixin","Cell","Icon","Popup","_createNamespace","createComponent","bem","mixins","ref","props","value","title","String","disabled","Boolean","titleClass","options","type","Array","default","_default","lazyRender","data","transition","showPopup","showWrapper","computed","displayTitle","_this","match","filter","option","length","text","watch","val","bindScroll","beforeCreate","_this2","createEmitter","eventName","$emit","onOpen","onClose","onOpened","methods","toggle","show","immediate","parent","updateOffset","bind","scroller","action","onScroll","onClickWrapper","event","getContainer","stopPropagation","render","_this3","h","arguments","_this$parent","zIndex","offset","overlay","duration","direction","activeColor","closeOnClickOverlay","Options","map","active","icon","color","click","style","top","bottom","name","position","closed","callback","$$v","slots"],"sources":["C:/Users/小王/node_modules/vant/es/dropdown-item/index.js"],"sourcesContent":["// Utils\nimport { createNamespace } from '../utils';\nimport { on, off } from '../utils/dom/event'; // Mixins\n\nimport { PortalMixin } from '../mixins/portal';\nimport { ChildrenMixin } from '../mixins/relation'; // Components\n\nimport Cell from '../cell';\nimport Icon from '../icon';\nimport Popup from '../popup';\n\nvar _createNamespace = createNamespace('dropdown-item'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [PortalMixin({\n    ref: 'wrapper'\n  }), ChildrenMixin('vanDropdownMenu')],\n  props: {\n    value: null,\n    title: String,\n    disabled: Boolean,\n    titleClass: String,\n    options: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    lazyRender: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      transition: true,\n      showPopup: false,\n      showWrapper: false\n    };\n  },\n  computed: {\n    displayTitle: function displayTitle() {\n      var _this = this;\n\n      if (this.title) {\n        return this.title;\n      }\n\n      var match = this.options.filter(function (option) {\n        return option.value === _this.value;\n      });\n      return match.length ? match[0].text : '';\n    }\n  },\n  watch: {\n    showPopup: function showPopup(val) {\n      this.bindScroll(val);\n    }\n  },\n  beforeCreate: function beforeCreate() {\n    var _this2 = this;\n\n    var createEmitter = function createEmitter(eventName) {\n      return function () {\n        return _this2.$emit(eventName);\n      };\n    };\n\n    this.onOpen = createEmitter('open');\n    this.onClose = createEmitter('close');\n    this.onOpened = createEmitter('opened');\n  },\n  methods: {\n    // @exposed-api\n    toggle: function toggle(show, options) {\n      if (show === void 0) {\n        show = !this.showPopup;\n      }\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      if (show === this.showPopup) {\n        return;\n      }\n\n      this.transition = !options.immediate;\n      this.showPopup = show;\n\n      if (show) {\n        this.parent.updateOffset();\n        this.showWrapper = true;\n      }\n    },\n    bindScroll: function bindScroll(bind) {\n      var scroller = this.parent.scroller;\n      var action = bind ? on : off;\n      action(scroller, 'scroll', this.onScroll, true);\n    },\n    onScroll: function onScroll() {\n      this.parent.updateOffset();\n    },\n    onClickWrapper: function onClickWrapper(event) {\n      // prevent being identified as clicking outside and closed when use get-contaienr\n      if (this.getContainer) {\n        event.stopPropagation();\n      }\n    }\n  },\n  render: function render() {\n    var _this3 = this;\n\n    var h = arguments[0];\n    var _this$parent = this.parent,\n        zIndex = _this$parent.zIndex,\n        offset = _this$parent.offset,\n        overlay = _this$parent.overlay,\n        duration = _this$parent.duration,\n        direction = _this$parent.direction,\n        activeColor = _this$parent.activeColor,\n        closeOnClickOverlay = _this$parent.closeOnClickOverlay;\n    var Options = this.options.map(function (option) {\n      var active = option.value === _this3.value;\n      return h(Cell, {\n        \"attrs\": {\n          \"clickable\": true,\n          \"icon\": option.icon,\n          \"title\": option.text\n        },\n        \"key\": option.value,\n        \"class\": bem('option', {\n          active: active\n        }),\n        \"style\": {\n          color: active ? activeColor : ''\n        },\n        \"on\": {\n          \"click\": function click() {\n            _this3.showPopup = false;\n\n            if (option.value !== _this3.value) {\n              _this3.$emit('input', option.value);\n\n              _this3.$emit('change', option.value);\n            }\n          }\n        }\n      }, [active && h(Icon, {\n        \"class\": bem('icon'),\n        \"attrs\": {\n          \"color\": activeColor,\n          \"name\": \"success\"\n        }\n      })]);\n    });\n    var style = {\n      zIndex: zIndex\n    };\n\n    if (direction === 'down') {\n      style.top = offset + \"px\";\n    } else {\n      style.bottom = offset + \"px\";\n    }\n\n    return h(\"div\", [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.showWrapper\n      }],\n      \"ref\": \"wrapper\",\n      \"style\": style,\n      \"class\": bem([direction]),\n      \"on\": {\n        \"click\": this.onClickWrapper\n      }\n    }, [h(Popup, {\n      \"attrs\": {\n        \"overlay\": overlay,\n        \"position\": direction === 'down' ? 'top' : 'bottom',\n        \"duration\": this.transition ? duration : 0,\n        \"lazyRender\": this.lazyRender,\n        \"overlayStyle\": {\n          position: 'absolute'\n        },\n        \"closeOnClickOverlay\": closeOnClickOverlay\n      },\n      \"class\": bem('content'),\n      \"on\": {\n        \"open\": this.onOpen,\n        \"close\": this.onClose,\n        \"opened\": this.onOpened,\n        \"closed\": function closed() {\n          _this3.showWrapper = false;\n\n          _this3.$emit('closed');\n        }\n      },\n      \"model\": {\n        value: _this3.showPopup,\n        callback: function callback($$v) {\n          _this3.showPopup = $$v;\n        }\n      }\n    }, [Options, this.slots('default')])])]);\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}