{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/\\u5C0F\\u738B/Desktop/heimamm/hmtt/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/\\u5C0F\\u738B/Desktop/heimamm/hmtt/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { suggestListAPI } from \"@/api/index.js\";\nexport default {\n  data: function data() {\n    return {\n      kw: '',\n      //搜索关键词\n      timer: null,\n      //定时器\n      keywordList: [] //关键词联想数组\n\n    };\n  },\n  methods: {\n    //搜索框输入方法\n    inputFn: function inputFn() {\n      var _this = this;\n\n      if (this.kw.length === 0) return; //防抖(设置定时器，然后每次触发时清除定时器)\n\n      clearTimeout(this.timer);\n      this.timer = setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _yield$suggestListAPI, res;\n\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return suggestListAPI({\n                  keyword: _this.kw\n                });\n\n              case 2:\n                _yield$suggestListAPI = _context.sent;\n                res = _yield$suggestListAPI.data;\n                _this.keywordList = res.data.options;\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      })), 300);\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;AAeA,SACAA,cADA,QAEA,gBAFA;AAGA;EACAC,IADA,kBACA;IACA;MACAC,MADA;MACA;MACAC,WAFA;MAEA;MACAC,eAHA,CAGA;;IAHA;EAKA,CAPA;EAQAC;IACA;IACAC,OAFA,qBAEA;MAAA;;MACA,iCADA,CAEA;;MACAC;MACA;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAIAP;kBACAQ;gBADA,EAJA;;cAAA;gBAAA;gBAGAC,GAHA,yBAGAR,IAHA;gBAOA;;cAPA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,KAQA,GARA;IASA;EAfA;AARA","names":["suggestListAPI","data","kw","timer","keywordList","methods","inputFn","clearTimeout","keyword","res"],"sourceRoot":"src/views/search","sources":["index.vue"],"sourcesContent":["//搜索页面\r\n<template>\r\n  <div>\r\n    <div class=\"search-header\" style=\"height: 46px\">\r\n      <van-icon name=\"arrow-left\" color=\"white\" size=\"18px\" class=\"goback\" @click=\"$router.back()\"\r\n        style=\"padding-left: 14px\" />\r\n      <van-search placeholder=\"请输入关键词\" background=\"#007bff\" shape=\"round\" v-fofo @input=\"inputFn\" v-model=\"kw\" />\r\n    </div>\r\n    <div class=\"sugg-list\">\r\n      <div class=\"sugg-item\" v-for=\"(item,index) in keywordList\" :key=\"index\" v-show=\"kw.length!==0\">{{item}}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    suggestListAPI\r\n  } from \"@/api/index.js\"\r\n  export default {\r\n    data() {\r\n      return {\r\n        kw: '', //搜索关键词\r\n        timer: null, //定时器\r\n        keywordList: [] //关键词联想数组\r\n      }\r\n    },\r\n    methods: {\r\n      //搜索框输入方法\r\n      inputFn() {\r\n        if (this.kw.length === 0) return\r\n        //防抖(设置定时器，然后每次触发时清除定时器)\r\n        clearTimeout(this.timer)\r\n        this.timer = setTimeout(async () => {\r\n\r\n          const {\r\n            data: res\r\n          } = await suggestListAPI({\r\n            keyword: this.kw\r\n          })\r\n          this.keywordList = res.data.options\r\n        }, 300)\r\n      },\r\n    },\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .search-header {\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #007bff;\r\n    overflow: hidden;\r\n\r\n    .van-search {\r\n      flex: 1;\r\n    }\r\n  }\r\n\r\n  .sugg-list {\r\n    .sugg-item {\r\n      padding: 0 15Px;\r\n      border-bottom: 1Px solid #f8f8f8;\r\n      font-size: 14Px;\r\n      line-height: 50Px;\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n    }\r\n  }\r\n</style>"]},"metadata":{},"sourceType":"module"}