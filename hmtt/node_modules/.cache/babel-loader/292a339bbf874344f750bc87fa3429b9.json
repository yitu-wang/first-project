{"ast":null,"code":"import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\"; // Utils\n\nimport { createNamespace, addUnit } from '../utils';\nimport { emit, inherit } from '../utils/functional'; // Components\n\nimport Icon from '../icon';\nimport Sidebar from '../sidebar';\nimport SidebarItem from '../sidebar-item'; // Types\n\nvar _createNamespace = createNamespace('tree-select'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction TreeSelect(h, props, slots, ctx) {\n  var items = props.items,\n      height = props.height,\n      activeId = props.activeId,\n      selectedIcon = props.selectedIcon,\n      mainActiveIndex = props.mainActiveIndex;\n\n  if (process.env.NODE_ENV === 'development') {\n    if (ctx.listeners.navclick) {\n      console.warn('[Vant] TreeSelect: \"navclick\" event is deprecated, use \"click-nav\" instead.');\n    }\n\n    if (ctx.listeners.itemclick) {\n      console.warn('[Vant] TreeSelect: \"itemclick\" event is deprecated, use \"click-item\" instead.');\n    }\n  }\n\n  var selectedItem = items[+mainActiveIndex] || {};\n  var subItems = selectedItem.children || [];\n  var isMultiple = Array.isArray(activeId);\n\n  function isActiveItem(id) {\n    return isMultiple ? activeId.indexOf(id) !== -1 : activeId === id;\n  }\n\n  var Navs = items.map(function (item) {\n    var _item$badge;\n\n    return h(SidebarItem, {\n      \"attrs\": {\n        \"dot\": item.dot,\n        \"info\": (_item$badge = item.badge) != null ? _item$badge : item.info,\n        \"title\": item.text,\n        \"disabled\": item.disabled\n      },\n      \"class\": [bem('nav-item'), item.className]\n    });\n  });\n\n  function Content() {\n    if (slots.content) {\n      return slots.content();\n    }\n\n    return subItems.map(function (item) {\n      return h(\"div\", {\n        \"key\": item.id,\n        \"class\": ['van-ellipsis', bem('item', {\n          active: isActiveItem(item.id),\n          disabled: item.disabled\n        })],\n        \"on\": {\n          \"click\": function click() {\n            if (!item.disabled) {\n              var newActiveId = item.id;\n\n              if (isMultiple) {\n                newActiveId = activeId.slice();\n                var index = newActiveId.indexOf(item.id);\n\n                if (index !== -1) {\n                  newActiveId.splice(index, 1);\n                } else if (newActiveId.length < props.max) {\n                  newActiveId.push(item.id);\n                }\n              }\n\n              emit(ctx, 'update:active-id', newActiveId);\n              emit(ctx, 'click-item', item); // compatible with legacy usage, should be removed in next major version\n\n              emit(ctx, 'itemclick', item);\n            }\n          }\n        }\n      }, [item.text, isActiveItem(item.id) && h(Icon, {\n        \"attrs\": {\n          \"name\": selectedIcon\n        },\n        \"class\": bem('selected')\n      })]);\n    });\n  }\n\n  return h(\"div\", _mergeJSXProps([{\n    \"class\": bem(),\n    \"style\": {\n      height: addUnit(height)\n    }\n  }, inherit(ctx)]), [h(Sidebar, {\n    \"class\": bem('nav'),\n    \"attrs\": {\n      \"activeKey\": mainActiveIndex\n    },\n    \"on\": {\n      \"change\": function change(index) {\n        emit(ctx, 'update:main-active-index', index);\n        emit(ctx, 'click-nav', index); // compatible with legacy usage, should be removed in next major version\n\n        emit(ctx, 'navclick', index);\n      }\n    }\n  }, [Navs]), h(\"div\", {\n    \"class\": bem('content')\n  }, [Content()])]);\n}\n\nTreeSelect.props = {\n  max: {\n    type: [Number, String],\n    default: Infinity\n  },\n  items: {\n    type: Array,\n    default: function _default() {\n      return [];\n    }\n  },\n  height: {\n    type: [Number, String],\n    default: 300\n  },\n  activeId: {\n    type: [Number, String, Array],\n    default: 0\n  },\n  selectedIcon: {\n    type: String,\n    default: 'success'\n  },\n  mainActiveIndex: {\n    type: [Number, String],\n    default: 0\n  }\n};\nexport default createComponent(TreeSelect);","map":{"version":3,"names":["_mergeJSXProps","createNamespace","addUnit","emit","inherit","Icon","Sidebar","SidebarItem","_createNamespace","createComponent","bem","TreeSelect","h","props","slots","ctx","items","height","activeId","selectedIcon","mainActiveIndex","process","env","NODE_ENV","listeners","navclick","console","warn","itemclick","selectedItem","subItems","children","isMultiple","Array","isArray","isActiveItem","id","indexOf","Navs","map","item","_item$badge","dot","badge","info","text","disabled","className","Content","content","active","click","newActiveId","slice","index","splice","length","max","push","change","type","Number","String","default","Infinity","_default"],"sources":["C:/Users/小王/node_modules/vant/es/tree-select/index.js"],"sourcesContent":["import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\n// Utils\nimport { createNamespace, addUnit } from '../utils';\nimport { emit, inherit } from '../utils/functional'; // Components\n\nimport Icon from '../icon';\nimport Sidebar from '../sidebar';\nimport SidebarItem from '../sidebar-item'; // Types\n\nvar _createNamespace = createNamespace('tree-select'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction TreeSelect(h, props, slots, ctx) {\n  var items = props.items,\n      height = props.height,\n      activeId = props.activeId,\n      selectedIcon = props.selectedIcon,\n      mainActiveIndex = props.mainActiveIndex;\n\n  if (process.env.NODE_ENV === 'development') {\n    if (ctx.listeners.navclick) {\n      console.warn('[Vant] TreeSelect: \"navclick\" event is deprecated, use \"click-nav\" instead.');\n    }\n\n    if (ctx.listeners.itemclick) {\n      console.warn('[Vant] TreeSelect: \"itemclick\" event is deprecated, use \"click-item\" instead.');\n    }\n  }\n\n  var selectedItem = items[+mainActiveIndex] || {};\n  var subItems = selectedItem.children || [];\n  var isMultiple = Array.isArray(activeId);\n\n  function isActiveItem(id) {\n    return isMultiple ? activeId.indexOf(id) !== -1 : activeId === id;\n  }\n\n  var Navs = items.map(function (item) {\n    var _item$badge;\n\n    return h(SidebarItem, {\n      \"attrs\": {\n        \"dot\": item.dot,\n        \"info\": (_item$badge = item.badge) != null ? _item$badge : item.info,\n        \"title\": item.text,\n        \"disabled\": item.disabled\n      },\n      \"class\": [bem('nav-item'), item.className]\n    });\n  });\n\n  function Content() {\n    if (slots.content) {\n      return slots.content();\n    }\n\n    return subItems.map(function (item) {\n      return h(\"div\", {\n        \"key\": item.id,\n        \"class\": ['van-ellipsis', bem('item', {\n          active: isActiveItem(item.id),\n          disabled: item.disabled\n        })],\n        \"on\": {\n          \"click\": function click() {\n            if (!item.disabled) {\n              var newActiveId = item.id;\n\n              if (isMultiple) {\n                newActiveId = activeId.slice();\n                var index = newActiveId.indexOf(item.id);\n\n                if (index !== -1) {\n                  newActiveId.splice(index, 1);\n                } else if (newActiveId.length < props.max) {\n                  newActiveId.push(item.id);\n                }\n              }\n\n              emit(ctx, 'update:active-id', newActiveId);\n              emit(ctx, 'click-item', item); // compatible with legacy usage, should be removed in next major version\n\n              emit(ctx, 'itemclick', item);\n            }\n          }\n        }\n      }, [item.text, isActiveItem(item.id) && h(Icon, {\n        \"attrs\": {\n          \"name\": selectedIcon\n        },\n        \"class\": bem('selected')\n      })]);\n    });\n  }\n\n  return h(\"div\", _mergeJSXProps([{\n    \"class\": bem(),\n    \"style\": {\n      height: addUnit(height)\n    }\n  }, inherit(ctx)]), [h(Sidebar, {\n    \"class\": bem('nav'),\n    \"attrs\": {\n      \"activeKey\": mainActiveIndex\n    },\n    \"on\": {\n      \"change\": function change(index) {\n        emit(ctx, 'update:main-active-index', index);\n        emit(ctx, 'click-nav', index); // compatible with legacy usage, should be removed in next major version\n\n        emit(ctx, 'navclick', index);\n      }\n    }\n  }, [Navs]), h(\"div\", {\n    \"class\": bem('content')\n  }, [Content()])]);\n}\n\nTreeSelect.props = {\n  max: {\n    type: [Number, String],\n    default: Infinity\n  },\n  items: {\n    type: Array,\n    default: function _default() {\n      return [];\n    }\n  },\n  height: {\n    type: [Number, String],\n    default: 300\n  },\n  activeId: {\n    type: [Number, String, Array],\n    default: 0\n  },\n  selectedIcon: {\n    type: String,\n    default: 'success'\n  },\n  mainActiveIndex: {\n    type: [Number, String],\n    default: 0\n  }\n};\nexport default createComponent(TreeSelect);"],"mappings":"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"},"metadata":{},"sourceType":"module"}