{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport { getToken } from '@/utils/token.js'; //导入组件(使用路由懒加载后这里就不需要了)\n// import Login from '@/views/login.vue'\n// import Layout from '@/views/Layout.vue'\n// import Home from '@/views/home-user/Home.vue'\n// import User from '@/views/home-user/user.vue'\n// import Search from '@/views/search/index.vue'\n// import searchResult from '@/views/search/searchResult.vue'\n// import ArticleDetail from '@/views/ArticleDetail/index.vue'\n// import editUser from '@/views/User/editUser.vue'\n// import Chat from '@/views/chat/index.vue'\n\nVue.use(VueRouter);\nconst routes = [{\n  path: '/',\n  redirect: '/layout/home'\n}, {\n  path: '/login',\n  component: () => import(\n  /* webpackChunkName: 'Login' */\n  '@/views/login.vue')\n}, {\n  path: '/layout',\n  component: () => import(\n  /* webpackChunkName: 'Layout' */\n  '@/views/Layout.vue'),\n  redirect: '/layout/home',\n  children: [{\n    path: 'home',\n    component: () => import(\n    /* webpackChunkName: 'Layout' */\n    '@/views/home-user/Home.vue'),\n    meta: {\n      scrollT: 0\n    }\n  }, {\n    path: 'user',\n    component: () => import(\n    /* webpackChunkName: 'Layout' */\n    '@/views/home-user/user.vue')\n  }]\n}, {\n  path: '/search',\n  component: () => import(\n  /* webpackChunkName: 'Search' */\n  '@/views/search/index.vue')\n}, {\n  path: '/search_result/:kw',\n  component: () => import(\n  /* webpackChunkName: 'Search' */\n  '@/views/search/searchResult.vue')\n}, {\n  path: '/detail',\n  component: () => import(\n  /* webpackChunkName: 'Article' */\n  '@/views/ArticleDetail/index.vue')\n}, {\n  path: '/edit',\n  component: () => import(\n  /* webpackChunkName: 'Edit' */\n  '@/views/User/editUser.vue')\n}, {\n  path: '/chat',\n  component: () => import(\n  /* webpackChunkName: 'Chat' */\n  '@/views/chat/index.vue')\n}];\nconst router = new VueRouter({\n  routes\n}); //路由的全局前置守卫\n\nrouter.beforeEach((to, from, next) => {\n  if (to.path === '/login' && getToken()?.length > 0) {\n    next('/layout/home');\n  } else {\n    next();\n  }\n}); // router.beforeEach((to, from, next) => {\n//   if (to.path === 'login') {\n//     next()\n//   } else {\n//     if (localStorage.token === '') {\n//       next('/login')\n//     } else {\n//       next()\n//     }\n//   }\n// })\n\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","getToken","use","routes","path","redirect","component","children","meta","scrollT","router","beforeEach","to","from","next","length"],"sources":["C:/Users/小王/Desktop/heimamm/hmtt/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport { getToken } from '@/utils/token.js'\n//导入组件(使用路由懒加载后这里就不需要了)\n// import Login from '@/views/login.vue'\n// import Layout from '@/views/Layout.vue'\n// import Home from '@/views/home-user/Home.vue'\n// import User from '@/views/home-user/user.vue'\n// import Search from '@/views/search/index.vue'\n// import searchResult from '@/views/search/searchResult.vue'\n// import ArticleDetail from '@/views/ArticleDetail/index.vue'\n// import editUser from '@/views/User/editUser.vue'\n// import Chat from '@/views/chat/index.vue'\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    redirect: '/layout/home',\n  },\n  {\n    path: '/login',\n    component: () =>\n      import(/* webpackChunkName: 'Login' */ '@/views/login.vue'),\n  },\n  {\n    path: '/layout',\n    component: () =>\n      import(/* webpackChunkName: 'Layout' */ '@/views/Layout.vue'),\n    redirect: '/layout/home',\n    children: [\n      {\n        path: 'home',\n        component: () =>\n          import(/* webpackChunkName: 'Layout' */ '@/views/home-user/Home.vue'),\n        meta: {\n          scrollT: 0,\n        },\n      },\n      {\n        path: 'user',\n        component: () =>\n          import(/* webpackChunkName: 'Layout' */ '@/views/home-user/user.vue'),\n      },\n    ],\n  },\n  {\n    path: '/search',\n    component: () =>\n      import(/* webpackChunkName: 'Search' */ '@/views/search/index.vue'),\n  },\n  {\n    path: '/search_result/:kw',\n    component: () =>\n      import(\n        /* webpackChunkName: 'Search' */ '@/views/search/searchResult.vue'\n      ),\n  },\n  {\n    path: '/detail',\n    component: () =>\n      import(\n        /* webpackChunkName: 'Article' */ '@/views/ArticleDetail/index.vue'\n      ),\n  },\n  {\n    path: '/edit',\n    component: () =>\n      import(/* webpackChunkName: 'Edit' */ '@/views/User/editUser.vue'),\n  },\n  {\n    path: '/chat',\n    component: () =>\n      import(/* webpackChunkName: 'Chat' */ '@/views/chat/index.vue'),\n  },\n]\n\nconst router = new VueRouter({\n  routes,\n})\n\n//路由的全局前置守卫\nrouter.beforeEach((to, from, next) => {\n  if (to.path === '/login' && getToken()?.length > 0) {\n    next('/layout/home')\n  } else {\n    next()\n  }\n})\n// router.beforeEach((to, from, next) => {\n//   if (to.path === 'login') {\n//     next()\n//   } else {\n//     if (localStorage.token === '') {\n//       next('/login')\n//     } else {\n//       next()\n//     }\n//   }\n// })\n\nexport default router\n"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,QAAT,QAAyB,kBAAzB,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAF,GAAG,CAACG,GAAJ,CAAQF,SAAR;AAEA,MAAMG,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GADR;EAEEC,QAAQ,EAAE;AAFZ,CADa,EAKb;EACED,IAAI,EAAE,QADR;EAEEE,SAAS,EAAE,MACT;EAAO;EAAgC,mBAAvC;AAHJ,CALa,EAUb;EACEF,IAAI,EAAE,SADR;EAEEE,SAAS,EAAE,MACT;EAAO;EAAiC,oBAAxC,CAHJ;EAIED,QAAQ,EAAE,cAJZ;EAKEE,QAAQ,EAAE,CACR;IACEH,IAAI,EAAE,MADR;IAEEE,SAAS,EAAE,MACT;IAAO;IAAiC,4BAAxC,CAHJ;IAIEE,IAAI,EAAE;MACJC,OAAO,EAAE;IADL;EAJR,CADQ,EASR;IACEL,IAAI,EAAE,MADR;IAEEE,SAAS,EAAE,MACT;IAAO;IAAiC,4BAAxC;EAHJ,CATQ;AALZ,CAVa,EA+Bb;EACEF,IAAI,EAAE,SADR;EAEEE,SAAS,EAAE,MACT;EAAO;EAAiC,0BAAxC;AAHJ,CA/Ba,EAoCb;EACEF,IAAI,EAAE,oBADR;EAEEE,SAAS,EAAE,MACT;EACE;EAAiC,iCADnC;AAHJ,CApCa,EA2Cb;EACEF,IAAI,EAAE,SADR;EAEEE,SAAS,EAAE,MACT;EACE;EAAkC,iCADpC;AAHJ,CA3Ca,EAkDb;EACEF,IAAI,EAAE,OADR;EAEEE,SAAS,EAAE,MACT;EAAO;EAA+B,2BAAtC;AAHJ,CAlDa,EAuDb;EACEF,IAAI,EAAE,OADR;EAEEE,SAAS,EAAE,MACT;EAAO;EAA+B,wBAAtC;AAHJ,CAvDa,CAAf;AA8DA,MAAMI,MAAM,GAAG,IAAIV,SAAJ,CAAc;EAC3BG;AAD2B,CAAd,CAAf,C,CAIA;;AACAO,MAAM,CAACC,UAAP,CAAkB,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;EACpC,IAAIF,EAAE,CAACR,IAAH,KAAY,QAAZ,IAAwBH,QAAQ,IAAIc,MAAZ,GAAqB,CAAjD,EAAoD;IAClDD,IAAI,CAAC,cAAD,CAAJ;EACD,CAFD,MAEO;IACLA,IAAI;EACL;AACF,CAND,E,CAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAeJ,MAAf"},"metadata":{},"sourceType":"module"}