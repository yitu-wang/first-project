{"ast":null,"code":"//存储请求函数模块\n//每个方法负责请求一个方法\nimport request from '@/utils/request.js';\nimport { getToken } from '@/utils/token.js'; //登录接口\n\nexport var loginAPI = function loginAPI(_ref) {\n  var mobile = _ref.mobile,\n      code = _ref.code;\n  return request({\n    url: '/v1_0/authorizations',\n    method: 'POST',\n    data: {\n      mobile: mobile,\n      code: code\n    }\n  });\n}; //获取所以频道\n\nexport var getAllChannelsAPI = function getAllChannelsAPI() {\n  return request({\n    url: '/v1_0/channels'\n  });\n}; //获取用户的频道\n\nexport var getUserChannelsAPI = function getUserChannelsAPI() {\n  return request({\n    url: '/v1_0/user/channels' // headers: {\n    //   Authorization: `Bearer ${getToken()}`,\n    // },\n\n  });\n}; //获取更新覆盖后的频道\n\nexport var updateChannelsAPI = function updateChannelsAPI(channels) {\n  request({\n    url: '/v1_0/user/channels',\n    method: 'PUT',\n    data: {\n      channels: channels //用户已选择的频道数组\n\n    }\n  });\n}; //删除用户频道接口\n\nexport var removeChannelsAPI = function removeChannelsAPI(_ref2) {\n  var channelID = _ref2.channelID;\n  request({\n    url: \"/v1_0/user/channels/\".concat(channelID),\n    method: 'DELETE'\n  });\n}; //获取推荐文章列表\n\nexport var getArticleListAPI = function getArticleListAPI(_ref3) {\n  var channel_id = _ref3.channel_id,\n      timestamp = _ref3.timestamp;\n  return request({\n    url: '/v1_0/articles',\n    // headers: {\n    //   Authorization: `Bearer ${getToken()}`,\n    // },\n    params: {\n      channel_id: channel_id,\n      timestamp: timestamp\n    }\n  });\n}; // 反馈不感兴趣\n\nexport var dislikeArticleAPI = function dislikeArticleAPI(artId) {\n  return request({\n    url: '/v1_0/article/dislikes',\n    method: 'POST',\n    // headers: {\n    //   Authorization: `Bearer ${getToken()}`,\n    // },\n    data: {\n      target: artId\n    }\n  });\n}; //文章反馈-反馈垃圾内容\n\nexport var reportArticleAPI = function reportArticleAPI(_ref4) {\n  var artId = _ref4.artId,\n      type = _ref4.type;\n  return request({\n    url: '/v1_0/article/reports',\n    method: 'POST',\n    // headers: {\n    //   Authorization: `Bearer ${getToken()}`,\n    // },\n    data: {\n      target: artId,\n      type: type,\n      remark: ''\n    }\n  });\n}; //定义关键词联想的接口\n\nexport var suggestListAPI = function suggestListAPI(_ref5) {\n  var keyword = _ref5.keyword;\n  return request({\n    url: '/v1_0/suggestion',\n    params: {\n      q: keyword\n    }\n  });\n}; //定义搜索结果页面接口\n\nexport var searchResultAPI = function searchResultAPI(_ref6) {\n  var _ref6$page = _ref6.page,\n      page = _ref6$page === void 0 ? 1 : _ref6$page,\n      _ref6$per_page = _ref6.per_page,\n      per_page = _ref6$per_page === void 0 ? 10 : _ref6$per_page,\n      q = _ref6.q;\n  return request({\n    url: '/v1_0/search',\n    params: {\n      page: page,\n      per_page: per_page,\n      q: q\n    }\n  });\n}; //获取新闻详情页\n\nexport var detailAPI = function detailAPI(_ref7) {\n  var artId = _ref7.artId;\n  return request({\n    url: \"/v1_0/articles/\".concat(artId)\n  });\n}; //用户关注\n\nexport var userFollowAPI = function userFollowAPI(_ref8) {\n  var userId = _ref8.userId;\n  return request({\n    url: '/v1_0/user/followings',\n    method: 'POST',\n    data: {\n      target: userId\n    }\n  });\n}; //用户取消关注\n\nexport var removeFollowAPI = function removeFollowAPI(_ref9) {\n  var userId = _ref9.userId;\n  return request({\n    url: \"/v1_0/user/followings/\".concat(userId),\n    method: 'DELETE'\n  });\n}; //用户为文章点赞\n\nexport var likeArticleAPI = function likeArticleAPI(_ref10) {\n  var target = _ref10.target;\n  return request({\n    url: '/v1_0/article/likings',\n    method: 'POST',\n    data: {\n      target: target\n    }\n  });\n}; //用户取消点赞\n\nexport var unLikeArticleAPI = function unLikeArticleAPI(_ref11) {\n  var artId = _ref11.artId;\n  return request({\n    url: \"/v1_0/article/likings/\".concat(artId),\n    method: 'DELETE'\n  });\n}; //获取评论数据\n\nexport var commentsAPI = function commentsAPI(_ref12) {\n  var id = _ref12.id,\n      _ref12$offset = _ref12.offset,\n      offset = _ref12$offset === void 0 ? null : _ref12$offset;\n  return request({\n    url: '/v1_0/comments',\n    params: {\n      type: 'a',\n      source: id,\n      offset: offset\n    }\n  });\n}; //对评论进行点赞\n\nexport var commentsLikeAPI = function commentsLikeAPI(_ref13) {\n  var id = _ref13.id;\n  return request({\n    url: '/v1_0/comment/likings',\n    method: 'POST',\n    data: {\n      target: id\n    }\n  });\n}; //对评论取消点赞\n\nexport var commentsUNLikeAPI = function commentsUNLikeAPI(_ref14) {\n  var id = _ref14.id;\n  return request({\n    url: \"/v1_0/comment/likings/\".concat(id),\n    method: 'DELETE'\n  });\n}; //对文章或者评论进行评论\n\nexport var addCommentAPI = function addCommentAPI(_ref15) {\n  var id = _ref15.id,\n      content = _ref15.content;\n  return request({\n    url: '/v1_0/comments',\n    method: 'POST',\n    data: {\n      target: id,\n      //文章id或者评论的id\n      content: content\n    }\n  });\n}; //获取个人资料接口\n\nexport var getUserAPI = function getUserAPI() {\n  return request({\n    url: '/v1_0/user/profile'\n  });\n}; //获取用户关注列表\n\nexport var getUserLikeAPI = function getUserLikeAPI() {\n  return request({\n    url: '/v1_0/user/profile'\n  });\n};","map":{"version":3,"names":["request","getToken","loginAPI","mobile","code","url","method","data","getAllChannelsAPI","getUserChannelsAPI","updateChannelsAPI","channels","removeChannelsAPI","channelID","getArticleListAPI","channel_id","timestamp","params","dislikeArticleAPI","artId","target","reportArticleAPI","type","remark","suggestListAPI","keyword","q","searchResultAPI","page","per_page","detailAPI","userFollowAPI","userId","removeFollowAPI","likeArticleAPI","unLikeArticleAPI","commentsAPI","id","offset","source","commentsLikeAPI","commentsUNLikeAPI","addCommentAPI","content","getUserAPI","getUserLikeAPI"],"sources":["C:/Users/小王/Desktop/heimamm/hmtt/src/api/index.js"],"sourcesContent":["//存储请求函数模块\r\n//每个方法负责请求一个方法\r\nimport request from '@/utils/request.js'\r\nimport { getToken } from '@/utils/token.js'\r\n\r\n//登录接口\r\nexport const loginAPI = ({ mobile, code }) => {\r\n  return request({\r\n    url: '/v1_0/authorizations',\r\n    method: 'POST',\r\n    data: {\r\n      mobile,\r\n      code,\r\n    },\r\n  })\r\n}\r\n//获取所以频道\r\nexport const getAllChannelsAPI = () => {\r\n  return request({\r\n    url: '/v1_0/channels',\r\n  })\r\n}\r\n//获取用户的频道\r\nexport const getUserChannelsAPI = () => {\r\n  return request({\r\n    url: '/v1_0/user/channels',\r\n    // headers: {\r\n    //   Authorization: `Bearer ${getToken()}`,\r\n    // },\r\n  })\r\n}\r\n//获取更新覆盖后的频道\r\nexport const updateChannelsAPI = (channels) => {\r\n  request({\r\n    url: '/v1_0/user/channels',\r\n    method: 'PUT',\r\n    data: {\r\n      channels, //用户已选择的频道数组\r\n    },\r\n  })\r\n}\r\n//删除用户频道接口\r\nexport const removeChannelsAPI = ({ channelID }) => {\r\n  request({\r\n    url: `/v1_0/user/channels/${channelID}`,\r\n    method: 'DELETE',\r\n  })\r\n}\r\n//获取推荐文章列表\r\nexport const getArticleListAPI = ({ channel_id, timestamp }) => {\r\n  return request({\r\n    url: '/v1_0/articles',\r\n    // headers: {\r\n    //   Authorization: `Bearer ${getToken()}`,\r\n    // },\r\n    params: {\r\n      channel_id,\r\n      timestamp,\r\n    },\r\n  })\r\n}\r\n// 反馈不感兴趣\r\nexport const dislikeArticleAPI = (artId) =>\r\n  request({\r\n    url: '/v1_0/article/dislikes',\r\n    method: 'POST',\r\n    // headers: {\r\n    //   Authorization: `Bearer ${getToken()}`,\r\n    // },\r\n    data: {\r\n      target: artId,\r\n    },\r\n  })\r\n//文章反馈-反馈垃圾内容\r\nexport const reportArticleAPI = ({ artId, type }) =>\r\n  request({\r\n    url: '/v1_0/article/reports',\r\n    method: 'POST',\r\n    // headers: {\r\n    //   Authorization: `Bearer ${getToken()}`,\r\n    // },\r\n    data: {\r\n      target: artId,\r\n      type: type,\r\n      remark: '',\r\n    },\r\n  })\r\n//定义关键词联想的接口\r\nexport const suggestListAPI = ({ keyword }) => {\r\n  return request({\r\n    url: '/v1_0/suggestion',\r\n    params: {\r\n      q: keyword,\r\n    },\r\n  })\r\n}\r\n//定义搜索结果页面接口\r\nexport const searchResultAPI = ({ page = 1, per_page = 10, q }) => {\r\n  return request({\r\n    url: '/v1_0/search',\r\n    params: {\r\n      page,\r\n      per_page,\r\n      q,\r\n    },\r\n  })\r\n}\r\n//获取新闻详情页\r\nexport const detailAPI = ({ artId }) => {\r\n  return request({\r\n    url: `/v1_0/articles/${artId}`,\r\n  })\r\n}\r\n//用户关注\r\nexport const userFollowAPI = ({ userId }) => {\r\n  return request({\r\n    url: '/v1_0/user/followings',\r\n    method: 'POST',\r\n    data: {\r\n      target: userId,\r\n    },\r\n  })\r\n}\r\n//用户取消关注\r\nexport const removeFollowAPI = ({ userId }) => {\r\n  return request({\r\n    url: `/v1_0/user/followings/${userId}`,\r\n    method: 'DELETE',\r\n  })\r\n}\r\n//用户为文章点赞\r\nexport const likeArticleAPI = ({ target }) => {\r\n  return request({\r\n    url: '/v1_0/article/likings',\r\n    method: 'POST',\r\n    data: {\r\n      target: target,\r\n    },\r\n  })\r\n}\r\n//用户取消点赞\r\nexport const unLikeArticleAPI = ({ artId }) => {\r\n  return request({\r\n    url: `/v1_0/article/likings/${artId}`,\r\n    method: 'DELETE',\r\n  })\r\n}\r\n//获取评论数据\r\nexport const commentsAPI = ({ id, offset = null }) => {\r\n  return request({\r\n    url: '/v1_0/comments',\r\n    params: {\r\n      type: 'a',\r\n      source: id,\r\n      offset,\r\n    },\r\n  })\r\n}\r\n//对评论进行点赞\r\nexport const commentsLikeAPI = ({ id }) => {\r\n  return request({\r\n    url: '/v1_0/comment/likings',\r\n    method: 'POST',\r\n    data: {\r\n      target: id,\r\n    },\r\n  })\r\n}\r\n//对评论取消点赞\r\nexport const commentsUNLikeAPI = ({ id }) => {\r\n  return request({\r\n    url: `/v1_0/comment/likings/${id}`,\r\n    method: 'DELETE',\r\n  })\r\n}\r\n//对文章或者评论进行评论\r\nexport const addCommentAPI = ({ id, content }) => {\r\n  return request({\r\n    url: '/v1_0/comments',\r\n    method: 'POST',\r\n    data: {\r\n      target: id, //文章id或者评论的id\r\n      content,\r\n    },\r\n  })\r\n}\r\n//获取个人资料接口\r\nexport const getUserAPI = () => {\r\n  return request({\r\n    url: '/v1_0/user/profile',\r\n  })\r\n}\r\n//获取用户关注列表\r\nexport const getUserLikeAPI = () => {\r\n  return request({\r\n    url: '/v1_0/user/profile',\r\n  })\r\n}\r\n"],"mappings":"AAAA;AACA;AACA,OAAOA,OAAP,MAAoB,oBAApB;AACA,SAASC,QAAT,QAAyB,kBAAzB,C,CAEA;;AACA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,OAAsB;EAAA,IAAnBC,MAAmB,QAAnBA,MAAmB;EAAA,IAAXC,IAAW,QAAXA,IAAW;EAC5C,OAAOJ,OAAO,CAAC;IACbK,GAAG,EAAE,sBADQ;IAEbC,MAAM,EAAE,MAFK;IAGbC,IAAI,EAAE;MACJJ,MAAM,EAANA,MADI;MAEJC,IAAI,EAAJA;IAFI;EAHO,CAAD,CAAd;AAQD,CATM,C,CAUP;;AACA,OAAO,IAAMI,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;EACrC,OAAOR,OAAO,CAAC;IACbK,GAAG,EAAE;EADQ,CAAD,CAAd;AAGD,CAJM,C,CAKP;;AACA,OAAO,IAAMI,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;EACtC,OAAOT,OAAO,CAAC;IACbK,GAAG,EAAE,qBADQ,CAEb;IACA;IACA;;EAJa,CAAD,CAAd;AAMD,CAPM,C,CAQP;;AACA,OAAO,IAAMK,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,QAAD,EAAc;EAC7CX,OAAO,CAAC;IACNK,GAAG,EAAE,qBADC;IAENC,MAAM,EAAE,KAFF;IAGNC,IAAI,EAAE;MACJI,QAAQ,EAARA,QADI,CACM;;IADN;EAHA,CAAD,CAAP;AAOD,CARM,C,CASP;;AACA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,QAAmB;EAAA,IAAhBC,SAAgB,SAAhBA,SAAgB;EAClDb,OAAO,CAAC;IACNK,GAAG,gCAAyBQ,SAAzB,CADG;IAENP,MAAM,EAAE;EAFF,CAAD,CAAP;AAID,CALM,C,CAMP;;AACA,OAAO,IAAMQ,iBAAiB,GAAG,SAApBA,iBAAoB,QAA+B;EAAA,IAA5BC,UAA4B,SAA5BA,UAA4B;EAAA,IAAhBC,SAAgB,SAAhBA,SAAgB;EAC9D,OAAOhB,OAAO,CAAC;IACbK,GAAG,EAAE,gBADQ;IAEb;IACA;IACA;IACAY,MAAM,EAAE;MACNF,UAAU,EAAVA,UADM;MAENC,SAAS,EAATA;IAFM;EALK,CAAD,CAAd;AAUD,CAXM,C,CAYP;;AACA,OAAO,IAAME,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,KAAD;EAAA,OAC/BnB,OAAO,CAAC;IACNK,GAAG,EAAE,wBADC;IAENC,MAAM,EAAE,MAFF;IAGN;IACA;IACA;IACAC,IAAI,EAAE;MACJa,MAAM,EAAED;IADJ;EANA,CAAD,CADwB;AAAA,CAA1B,C,CAWP;;AACA,OAAO,IAAME,gBAAgB,GAAG,SAAnBA,gBAAmB;EAAA,IAAGF,KAAH,SAAGA,KAAH;EAAA,IAAUG,IAAV,SAAUA,IAAV;EAAA,OAC9BtB,OAAO,CAAC;IACNK,GAAG,EAAE,uBADC;IAENC,MAAM,EAAE,MAFF;IAGN;IACA;IACA;IACAC,IAAI,EAAE;MACJa,MAAM,EAAED,KADJ;MAEJG,IAAI,EAAEA,IAFF;MAGJC,MAAM,EAAE;IAHJ;EANA,CAAD,CADuB;AAAA,CAAzB,C,CAaP;;AACA,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,QAAiB;EAAA,IAAdC,OAAc,SAAdA,OAAc;EAC7C,OAAOzB,OAAO,CAAC;IACbK,GAAG,EAAE,kBADQ;IAEbY,MAAM,EAAE;MACNS,CAAC,EAAED;IADG;EAFK,CAAD,CAAd;AAMD,CAPM,C,CAQP;;AACA,OAAO,IAAME,eAAe,GAAG,SAAlBA,eAAkB,QAAoC;EAAA,uBAAjCC,IAAiC;EAAA,IAAjCA,IAAiC,2BAA1B,CAA0B;EAAA,2BAAvBC,QAAuB;EAAA,IAAvBA,QAAuB,+BAAZ,EAAY;EAAA,IAARH,CAAQ,SAARA,CAAQ;EACjE,OAAO1B,OAAO,CAAC;IACbK,GAAG,EAAE,cADQ;IAEbY,MAAM,EAAE;MACNW,IAAI,EAAJA,IADM;MAENC,QAAQ,EAARA,QAFM;MAGNH,CAAC,EAADA;IAHM;EAFK,CAAD,CAAd;AAQD,CATM,C,CAUP;;AACA,OAAO,IAAMI,SAAS,GAAG,SAAZA,SAAY,QAAe;EAAA,IAAZX,KAAY,SAAZA,KAAY;EACtC,OAAOnB,OAAO,CAAC;IACbK,GAAG,2BAAoBc,KAApB;EADU,CAAD,CAAd;AAGD,CAJM,C,CAKP;;AACA,OAAO,IAAMY,aAAa,GAAG,SAAhBA,aAAgB,QAAgB;EAAA,IAAbC,MAAa,SAAbA,MAAa;EAC3C,OAAOhC,OAAO,CAAC;IACbK,GAAG,EAAE,uBADQ;IAEbC,MAAM,EAAE,MAFK;IAGbC,IAAI,EAAE;MACJa,MAAM,EAAEY;IADJ;EAHO,CAAD,CAAd;AAOD,CARM,C,CASP;;AACA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,QAAgB;EAAA,IAAbD,MAAa,SAAbA,MAAa;EAC7C,OAAOhC,OAAO,CAAC;IACbK,GAAG,kCAA2B2B,MAA3B,CADU;IAEb1B,MAAM,EAAE;EAFK,CAAD,CAAd;AAID,CALM,C,CAMP;;AACA,OAAO,IAAM4B,cAAc,GAAG,SAAjBA,cAAiB,SAAgB;EAAA,IAAbd,MAAa,UAAbA,MAAa;EAC5C,OAAOpB,OAAO,CAAC;IACbK,GAAG,EAAE,uBADQ;IAEbC,MAAM,EAAE,MAFK;IAGbC,IAAI,EAAE;MACJa,MAAM,EAAEA;IADJ;EAHO,CAAD,CAAd;AAOD,CARM,C,CASP;;AACA,OAAO,IAAMe,gBAAgB,GAAG,SAAnBA,gBAAmB,SAAe;EAAA,IAAZhB,KAAY,UAAZA,KAAY;EAC7C,OAAOnB,OAAO,CAAC;IACbK,GAAG,kCAA2Bc,KAA3B,CADU;IAEbb,MAAM,EAAE;EAFK,CAAD,CAAd;AAID,CALM,C,CAMP;;AACA,OAAO,IAAM8B,WAAW,GAAG,SAAdA,WAAc,SAA2B;EAAA,IAAxBC,EAAwB,UAAxBA,EAAwB;EAAA,2BAApBC,MAAoB;EAAA,IAApBA,MAAoB,8BAAX,IAAW;EACpD,OAAOtC,OAAO,CAAC;IACbK,GAAG,EAAE,gBADQ;IAEbY,MAAM,EAAE;MACNK,IAAI,EAAE,GADA;MAENiB,MAAM,EAAEF,EAFF;MAGNC,MAAM,EAANA;IAHM;EAFK,CAAD,CAAd;AAQD,CATM,C,CAUP;;AACA,OAAO,IAAME,eAAe,GAAG,SAAlBA,eAAkB,SAAY;EAAA,IAATH,EAAS,UAATA,EAAS;EACzC,OAAOrC,OAAO,CAAC;IACbK,GAAG,EAAE,uBADQ;IAEbC,MAAM,EAAE,MAFK;IAGbC,IAAI,EAAE;MACJa,MAAM,EAAEiB;IADJ;EAHO,CAAD,CAAd;AAOD,CARM,C,CASP;;AACA,OAAO,IAAMI,iBAAiB,GAAG,SAApBA,iBAAoB,SAAY;EAAA,IAATJ,EAAS,UAATA,EAAS;EAC3C,OAAOrC,OAAO,CAAC;IACbK,GAAG,kCAA2BgC,EAA3B,CADU;IAEb/B,MAAM,EAAE;EAFK,CAAD,CAAd;AAID,CALM,C,CAMP;;AACA,OAAO,IAAMoC,aAAa,GAAG,SAAhBA,aAAgB,SAAqB;EAAA,IAAlBL,EAAkB,UAAlBA,EAAkB;EAAA,IAAdM,OAAc,UAAdA,OAAc;EAChD,OAAO3C,OAAO,CAAC;IACbK,GAAG,EAAE,gBADQ;IAEbC,MAAM,EAAE,MAFK;IAGbC,IAAI,EAAE;MACJa,MAAM,EAAEiB,EADJ;MACQ;MACZM,OAAO,EAAPA;IAFI;EAHO,CAAD,CAAd;AAQD,CATM,C,CAUP;;AACA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;EAC9B,OAAO5C,OAAO,CAAC;IACbK,GAAG,EAAE;EADQ,CAAD,CAAd;AAGD,CAJM,C,CAKP;;AACA,OAAO,IAAMwC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;EAClC,OAAO7C,OAAO,CAAC;IACbK,GAAG,EAAE;EADQ,CAAD,CAAd;AAGD,CAJM"},"metadata":{},"sourceType":"module"}